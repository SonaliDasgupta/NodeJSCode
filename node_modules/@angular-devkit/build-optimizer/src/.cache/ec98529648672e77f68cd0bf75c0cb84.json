{"remainingRequest":"C:\\Users\\sdasgupt\\Documents\\Coursera\\Angular\\Confusion\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\sdasgupt\\Documents\\Coursera\\Angular\\Confusion\\node_modules\\ngx-restangular\\fesm5\\ngx-restangular.js","dependencies":[{"path":"C:\\Users\\sdasgupt\\Documents\\Coursera\\Angular\\Confusion\\node_modules\\ngx-restangular\\fesm5\\ngx-restangular.js","mtime":1526552545000},{"path":"C:\\Users\\sdasgupt\\Documents\\Coursera\\Angular\\Confusion\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1530287347239},{"path":"C:\\Users\\sdasgupt\\Documents\\Coursera\\Angular\\Confusion\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["/** PURE_IMPORTS_START _angular_core,lodash,_angular_common_http,core_js_fn_object,rxjs,rxjs_operators,tslib PURE_IMPORTS_END */\nimport { InjectionToken, Injectable, Inject, Injector, Optional, NgModule, SkipSelf } from '@angular/core';\nimport { isArray, includes, isUndefined, isNull, isObject, isBoolean, defaults, each, extend, find, has, initial, last, clone, reduce, keys, isEmpty, forEach, map as map$1, bind, union, values, pick, isFunction, isNumber, every, omit, get } from 'lodash';\nimport { HttpRequest, HttpHeaders, HttpParams, HttpBackend, HttpErrorResponse, HttpResponse, HttpClientModule } from '@angular/common/http';\nimport { assign } from 'core-js/fn/object';\nimport { throwError, BehaviorSubject } from 'rxjs';\nimport { catchError, filter, map } from 'rxjs/operators';\nimport { __spread } from 'tslib';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar /** @type {?} */ RESTANGULAR = /*@__PURE__*/ new InjectionToken('restangularWithConfig');\n/**\n * @param {?} config\n * @return {?}\n */\nfunction RestangularFactory(config) {\n    var /** @type {?} */ configObj = {\n        fn: config[0],\n        arrServices: [],\n    };\n    if (isArray(config[0])) {\n        configObj = {\n            arrServices: config[0],\n            fn: config[1]\n        };\n    }\n    return configObj;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar RestangularHelper = /** @class */ /*@__PURE__*/ (function () {\n    function RestangularHelper() {\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    RestangularHelper.createRequest = /**\n     * @param {?} options\n     * @return {?}\n     */\n        function (options) {\n            var /** @type {?} */ requestQueryParams = RestangularHelper.createRequestQueryParams(options.params);\n            var /** @type {?} */ requestHeaders = RestangularHelper.createRequestHeaders(options.headers);\n            var /** @type {?} */ methodName = options.method.toUpperCase();\n            var /** @type {?} */ withCredentials = options.withCredentials || false;\n            var /** @type {?} */ request = new HttpRequest(methodName, options.url, options.data, {\n                headers: requestHeaders,\n                params: requestQueryParams,\n                responseType: options.responseType,\n                withCredentials: withCredentials\n            });\n            if (['GET', 'DELETE', 'HEAD', 'JSONP', 'OPTIONS'].indexOf(methodName) >= 0) {\n                request = new HttpRequest(methodName, options.url, {\n                    headers: requestHeaders,\n                    params: requestQueryParams,\n                    responseType: options.responseType,\n                    withCredentials: withCredentials\n                });\n            }\n            return request;\n        };\n    /**\n     * @param {?} queryParams\n     * @return {?}\n     */\n    RestangularHelper.createRequestQueryParams = /**\n     * @param {?} queryParams\n     * @return {?}\n     */\n        function (queryParams) {\n            var /** @type {?} */ requestQueryParams = assign({}, queryParams);\n            var /** @type {?} */ search = new HttpParams();\n            var _loop_1 = function (key) {\n                var /** @type {?} */ value = requestQueryParams[key];\n                if (Array.isArray(value)) {\n                    value.forEach(function (val) {\n                        search = search.append(key, val);\n                    });\n                }\n                else {\n                    if (typeof value === 'object') {\n                        value = JSON.stringify(value);\n                    }\n                    search = search.append(key, value);\n                }\n            };\n            for (var /** @type {?} */ key in requestQueryParams) {\n                _loop_1(key);\n            }\n            return search;\n        };\n    /**\n     * @param {?} headers\n     * @return {?}\n     */\n    RestangularHelper.createRequestHeaders = /**\n     * @param {?} headers\n     * @return {?}\n     */\n        function (headers) {\n            for (var /** @type {?} */ key in headers) {\n                var /** @type {?} */ value = headers[key];\n                if (typeof value === 'undefined') {\n                    delete headers[key];\n                }\n            }\n            return new HttpHeaders(assign({}, headers));\n        };\n    return RestangularHelper;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar RestangularHttp = /** @class */ /*@__PURE__*/ (function () {\n    function RestangularHttp(http) {\n        this.http = http;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    RestangularHttp.prototype.createRequest = /**\n     * @param {?} options\n     * @return {?}\n     */\n        function (options) {\n            var /** @type {?} */ request = RestangularHelper.createRequest(options);\n            return this.request(request);\n        };\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    RestangularHttp.prototype.request = /**\n     * @param {?} request\n     * @return {?}\n     */\n        function (request) {\n            var _this = this;\n            return this.http.handle(request)\n                .pipe(filter(function (event) { return event instanceof HttpResponse; }), map(function (response) {\n                if (!response.ok) {\n                    return throwError(new HttpErrorResponse(response));\n                }\n                return response;\n            }), map(function (response) {\n                response.config = { params: request };\n                return response;\n            }), catchError(function (err) {\n                err.request = request;\n                err.data = err.error;\n                err.repeatRequest = function (newRequest) {\n                    return _this.request(newRequest || request);\n                };\n                return throwError(err);\n            }));\n        };\n    return RestangularHttp;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} object\n * @param {?} config\n * @return {?}\n */\nfunction RestangularConfigurer(object, config) {\n    object.configuration = config;\n    /**\n     * Those are HTTP safe methods for which there is no need to pass any data with the request.\n     */\n    var /** @type {?} */ safeMethods = ['get', 'head', 'options', 'trace', 'getlist'];\n    config.isSafe = function (operation) {\n        return includes(safeMethods, operation.toLowerCase());\n    };\n    var /** @type {?} */ absolutePattern = /^https?:\\/\\//i;\n    config.isAbsoluteUrl = function (string) {\n        return isUndefined(config.absoluteUrl) || isNull(config.absoluteUrl) ?\n            string && absolutePattern.test(string) :\n            config.absoluteUrl;\n    };\n    config.absoluteUrl = isUndefined(config.absoluteUrl) ? true : config.absoluteUrl;\n    object.setSelfLinkAbsoluteUrl = function (value) {\n        config.absoluteUrl = value;\n    };\n    /**\n       * This is the BaseURL to be used with Restangular\n       */\n    config.baseUrl = isUndefined(config.baseUrl) ? '' : config.baseUrl;\n    object.setBaseUrl = function (newBaseUrl) {\n        config.baseUrl = /\\/$/.test(newBaseUrl) ?\n            newBaseUrl.substring(0, newBaseUrl.length - 1) :\n            newBaseUrl;\n        return this;\n    };\n    /**\n       * Sets the extra fields to keep from the parents\n       */\n    config.extraFields = config.extraFields || [];\n    object.setExtraFields = function (newExtraFields) {\n        config.extraFields = newExtraFields;\n        return this;\n    };\n    /**\n       * Some default $http parameter to be used in EVERY call\n       **/\n    config.defaultHttpFields = config.defaultHttpFields || {};\n    object.setDefaultHttpFields = function (values$$1) {\n        config.defaultHttpFields = values$$1;\n        return this;\n    };\n    /**\n       * Always return plain data, no restangularized object\n       **/\n    config.plainByDefault = config.plainByDefault || false;\n    object.setPlainByDefault = function (value) {\n        config.plainByDefault = value === true ? true : false;\n        return this;\n    };\n    config.withHttpValues = function (httpLocalConfig, obj) {\n        return defaults(obj, httpLocalConfig, config.defaultHttpFields);\n    };\n    config.encodeIds = isUndefined(config.encodeIds) ? true : config.encodeIds;\n    object.setEncodeIds = function (encode) {\n        config.encodeIds = encode;\n    };\n    config.defaultRequestParams = config.defaultRequestParams || {\n        get: {},\n        post: {},\n        put: {},\n        remove: {},\n        common: {}\n    };\n    object.setDefaultRequestParams = function (param1, param2) {\n        var /** @type {?} */ methods = [], /** @type {?} */ params = param2 || param1;\n        if (!isUndefined(param2)) {\n            if (isArray(param1)) {\n                methods = param1;\n            }\n            else {\n                methods.push(param1);\n            }\n        }\n        else {\n            methods.push('common');\n        }\n        each(methods, function (method) {\n            config.defaultRequestParams[method] = params;\n        });\n        return this;\n    };\n    object.requestParams = config.defaultRequestParams;\n    config.defaultHeaders = config.defaultHeaders || {};\n    object.setDefaultHeaders = function (headers) {\n        config.defaultHeaders = headers;\n        object.defaultHeaders = config.defaultHeaders;\n        return this;\n    };\n    object.defaultHeaders = config.defaultHeaders;\n    /**\n       * Method overriders response Method\n       **/\n    config.defaultResponseMethod = config.defaultResponseMethod || 'promise';\n    object.setDefaultResponseMethod = function (method) {\n        config.defaultResponseMethod = method;\n        object.defaultResponseMethod = config.defaultResponseMethod;\n        return this;\n    };\n    object.defaultResponseMethod = config.defaultResponseMethod;\n    /**\n       * Method overriders will set which methods are sent via POST with an X-HTTP-Method-Override\n       **/\n    config.methodOverriders = config.methodOverriders || [];\n    object.setMethodOverriders = function (values$$1) {\n        var /** @type {?} */ overriders = extend([], values$$1);\n        if (config.isOverridenMethod('delete', overriders)) {\n            overriders.push('remove');\n        }\n        config.methodOverriders = overriders;\n        return this;\n    };\n    config.jsonp = isUndefined(config.jsonp) ? false : config.jsonp;\n    object.setJsonp = function (active) {\n        config.jsonp = active;\n    };\n    config.isOverridenMethod = function (method, values$$1) {\n        var /** @type {?} */ search = values$$1 || config.methodOverriders;\n        return !isUndefined(find(search, function (one) {\n            return one.toLowerCase() === method.toLowerCase();\n        }));\n    };\n    /**\n       * Sets the URL creator type. For now, only Path is created. In the future we'll have queryParams\n       **/\n    config.urlCreator = config.urlCreator || 'path';\n    object.setUrlCreator = function (name) {\n        if (!has(config.urlCreatorFactory, name)) {\n            throw new Error('URL Path selected isn\\'t valid');\n        }\n        config.urlCreator = name;\n        return this;\n    };\n    /**\n       * You can set the restangular fields here. The 3 required fields for Restangular are:\n       *\n       * id: Id of the element\n       * route: name of the route of this element\n       * parentResource: the reference to the parent resource\n       *\n       *  All of this fields except for id, are handled (and created) by Restangular. By default,\n       *  the field values will be id, route and parentResource respectively\n       */\n    config.restangularFields = config.restangularFields || {\n        id: 'id',\n        route: 'route',\n        parentResource: 'parentResource',\n        restangularCollection: 'restangularCollection',\n        cannonicalId: '__cannonicalId',\n        etag: 'restangularEtag',\n        selfLink: 'href',\n        get: 'get',\n        getList: 'getList',\n        put: 'put',\n        post: 'post',\n        remove: 'remove',\n        head: 'head',\n        trace: 'trace',\n        options: 'options',\n        patch: 'patch',\n        getRestangularUrl: 'getRestangularUrl',\n        getRequestedUrl: 'getRequestedUrl',\n        putElement: 'putElement',\n        addRestangularMethod: 'addRestangularMethod',\n        getParentList: 'getParentList',\n        clone: 'clone',\n        ids: 'ids',\n        httpConfig: '_$httpConfig',\n        reqParams: 'reqParams',\n        one: 'one',\n        all: 'all',\n        several: 'several',\n        oneUrl: 'oneUrl',\n        allUrl: 'allUrl',\n        customPUT: 'customPUT',\n        customPATCH: 'customPATCH',\n        customPOST: 'customPOST',\n        customDELETE: 'customDELETE',\n        customGET: 'customGET',\n        customGETLIST: 'customGETLIST',\n        customOperation: 'customOperation',\n        doPUT: 'doPUT',\n        doPATCH: 'doPATCH',\n        doPOST: 'doPOST',\n        doDELETE: 'doDELETE',\n        doGET: 'doGET',\n        doGETLIST: 'doGETLIST',\n        fromServer: 'fromServer',\n        withConfig: 'withConfig',\n        withHttpConfig: 'withHttpConfig',\n        singleOne: 'singleOne',\n        plain: 'plain',\n        save: 'save',\n        restangularized: 'restangularized'\n    };\n    object.setRestangularFields = function (resFields) {\n        config.restangularFields =\n            extend({}, config.restangularFields, resFields);\n        return this;\n    };\n    config.isRestangularized = function (obj) {\n        return !!obj[config.restangularFields.restangularized];\n    };\n    config.setFieldToElem = function (field, elem, value) {\n        var /** @type {?} */ properties = field.split('.');\n        var /** @type {?} */ idValue = elem;\n        each(initial(properties), function (prop) {\n            idValue[prop] = {};\n            idValue = idValue[prop];\n        });\n        var /** @type {?} */ index = last(properties);\n        idValue[index] = value;\n        return this;\n    };\n    config.getFieldFromElem = function (field, elem) {\n        var /** @type {?} */ properties = field.split('.');\n        var /** @type {?} */ idValue = elem;\n        each(properties, function (prop) {\n            if (idValue) {\n                idValue = idValue[prop];\n            }\n        });\n        return clone(idValue);\n    };\n    config.setIdToElem = function (elem, id /*, route */) {\n        config.setFieldToElem(config.restangularFields.id, elem, id);\n        return this;\n    };\n    config.getIdFromElem = function (elem) {\n        return config.getFieldFromElem(config.restangularFields.id, elem);\n    };\n    config.isValidId = function (elemId) {\n        return '' !== elemId && !isUndefined(elemId) && !isNull(elemId);\n    };\n    config.setUrlToElem = function (elem, url /*, route */) {\n        config.setFieldToElem(config.restangularFields.selfLink, elem, url);\n        return this;\n    };\n    config.getUrlFromElem = function (elem) {\n        return config.getFieldFromElem(config.restangularFields.selfLink, elem);\n    };\n    config.useCannonicalId = isUndefined(config.useCannonicalId) ? false : config.useCannonicalId;\n    object.setUseCannonicalId = function (value) {\n        config.useCannonicalId = value;\n        return this;\n    };\n    config.getCannonicalIdFromElem = function (elem) {\n        var /** @type {?} */ cannonicalId = elem[config.restangularFields.cannonicalId];\n        var /** @type {?} */ actualId = config.isValidId(cannonicalId) ? cannonicalId : config.getIdFromElem(elem);\n        return actualId;\n    };\n    /**\n       * Sets the Response parser. This is used in case your response isn't directly the data.\n       * For example if you have a response like {meta: {'meta'}, data: {name: 'Gonto'}}\n       * you can extract this data which is the one that needs wrapping\n       *\n       * The ResponseExtractor is a function that receives the response and the method executed.\n       */\n    config.responseInterceptors = config.responseInterceptors ? __spread(config.responseInterceptors) : [];\n    config.defaultResponseInterceptor = function (data /*, operation, what, url, response, subject */) {\n        return data || {};\n    };\n    config.responseExtractor = function (data, operation, what, url, response, subject) {\n        var /** @type {?} */ interceptors = clone(config.responseInterceptors);\n        interceptors.push(config.defaultResponseInterceptor);\n        var /** @type {?} */ theData = data;\n        each(interceptors, function (interceptor) {\n            theData = interceptor(theData, operation, what, url, response, subject);\n        });\n        return theData;\n    };\n    object.addResponseInterceptor = function (extractor) {\n        config.responseInterceptors.push(extractor);\n        return this;\n    };\n    config.errorInterceptors = config.errorInterceptors ? __spread(config.errorInterceptors) : [];\n    object.addErrorInterceptor = function (interceptor) {\n        config.errorInterceptors = __spread([interceptor], config.errorInterceptors);\n        return this;\n    };\n    object.setResponseInterceptor = object.addResponseInterceptor;\n    object.setResponseExtractor = object.addResponseInterceptor;\n    object.setErrorInterceptor = object.addErrorInterceptor;\n    /**\n       * Response interceptor is called just before resolving promises.\n       */\n    /**\n       * Request interceptor is called before sending an object to the server.\n       */\n    config.requestInterceptors = config.requestInterceptors ? __spread(config.requestInterceptors) : [];\n    config.defaultInterceptor = function (element, operation, path, url, headers, params, httpConfig) {\n        return {\n            element: element,\n            headers: headers,\n            params: params,\n            httpConfig: httpConfig\n        };\n    };\n    config.fullRequestInterceptor = function (element, operation, path, url, headers, params, httpConfig) {\n        var /** @type {?} */ interceptors = clone(config.requestInterceptors);\n        var /** @type {?} */ defaultRequest = config.defaultInterceptor(element, operation, path, url, headers, params, httpConfig);\n        return reduce(interceptors, function (request, interceptor) {\n            var /** @type {?} */ returnInterceptor = interceptor(request.element, operation, path, url, request.headers, request.params, request.httpConfig);\n            return extend(request, returnInterceptor);\n        }, defaultRequest);\n    };\n    object.addRequestInterceptor = function (interceptor) {\n        config.requestInterceptors.push(function (elem, operation, path, url, headers, params, httpConfig) {\n            return {\n                headers: headers,\n                params: params,\n                element: interceptor(elem, operation, path, url),\n                httpConfig: httpConfig\n            };\n        });\n        return this;\n    };\n    object.setRequestInterceptor = object.addRequestInterceptor;\n    object.addFullRequestInterceptor = function (interceptor) {\n        config.requestInterceptors.push(interceptor);\n        return this;\n    };\n    object.setFullRequestInterceptor = object.addFullRequestInterceptor;\n    config.onBeforeElemRestangularized = config.onBeforeElemRestangularized || function (elem) {\n        return elem;\n    };\n    object.setOnBeforeElemRestangularized = function (post) {\n        config.onBeforeElemRestangularized = post;\n        return this;\n    };\n    object.setRestangularizePromiseInterceptor = function (interceptor) {\n        config.restangularizePromiseInterceptor = interceptor;\n        return this;\n    };\n    /**\n       * This method is called after an element has been \"Restangularized\".\n       *\n       * It receives the element, a boolean indicating if it's an element or a collection\n       * and the name of the model\n       *\n       */\n    config.onElemRestangularized = config.onElemRestangularized || function (elem) {\n        return elem;\n    };\n    object.setOnElemRestangularized = function (post) {\n        config.onElemRestangularized = post;\n        return this;\n    };\n    config.shouldSaveParent = config.shouldSaveParent || function () {\n        return true;\n    };\n    object.setParentless = function (values$$1) {\n        if (isArray(values$$1)) {\n            config.shouldSaveParent = function (route) {\n                return !includes(values$$1, route);\n            };\n        }\n        else if (isBoolean(values$$1)) {\n            config.shouldSaveParent = function () {\n                return !values$$1;\n            };\n        }\n        return this;\n    };\n    /**\n       * This lets you set a suffix to every request.\n       *\n       * For example, if your api requires that for JSon requests you do /users/123.json, you can set that\n       * in here.\n       *\n       *\n       * By default, the suffix is null\n       */\n    config.suffix = isUndefined(config.suffix) ? null : config.suffix;\n    object.setRequestSuffix = function (newSuffix) {\n        config.suffix = newSuffix;\n        return this;\n    };\n    /**\n       * Add element transformers for certain routes.\n       */\n    config.transformers = config.transformers || {};\n    object.addElementTransformer = function (type, secondArg, thirdArg) {\n        var /** @type {?} */ isCollection = null;\n        var /** @type {?} */ transformer = null;\n        if (arguments.length === 2) {\n            transformer = secondArg;\n        }\n        else {\n            transformer = thirdArg;\n            isCollection = secondArg;\n        }\n        var /** @type {?} */ typeTransformers = config.transformers[type];\n        if (!typeTransformers) {\n            typeTransformers = config.transformers[type] = [];\n        }\n        typeTransformers.push(function (coll, elem) {\n            if (isNull(isCollection) || (coll === isCollection)) {\n                return transformer(elem);\n            }\n            return elem;\n        });\n        return object;\n    };\n    object.extendCollection = function (route, fn) {\n        return object.addElementTransformer(route, true, fn);\n    };\n    object.extendModel = function (route, fn) {\n        return object.addElementTransformer(route, false, fn);\n    };\n    config.transformElem = function (elem, isCollection, route, Restangular, force) {\n        if (!force && !config.transformLocalElements && !elem[config.restangularFields.fromServer]) {\n            return elem;\n        }\n        var /** @type {?} */ typeTransformers = config.transformers[route];\n        var /** @type {?} */ changedElem = elem;\n        if (typeTransformers) {\n            each(typeTransformers, function (transformer) {\n                changedElem = transformer(isCollection, changedElem);\n            });\n        }\n        return config.onElemRestangularized(changedElem, isCollection, route, Restangular);\n    };\n    config.transformLocalElements = isUndefined(config.transformLocalElements) ?\n        false :\n        config.transformLocalElements;\n    object.setTransformOnlyServerElements = function (active) {\n        config.transformLocalElements = !active;\n    };\n    config.fullResponse = isUndefined(config.fullResponse) ? false : config.fullResponse;\n    object.setFullResponse = function (full) {\n        config.fullResponse = full;\n        return this;\n    };\n    //Internal values and functions\n    config.urlCreatorFactory = {};\n    /**\n     * Base URL Creator. Base prototype for everything related to it\n     *\n     */\n    var /** @type {?} */ BaseCreator = function () {\n    };\n    BaseCreator.prototype.setConfig = function (config) {\n        this.config = config;\n        return this;\n    };\n    BaseCreator.prototype.parentsArray = function (current) {\n        var /** @type {?} */ parents = [];\n        while (current) {\n            parents.push(current);\n            current = current[this.config.restangularFields.parentResource];\n        }\n        return parents.reverse();\n    };\n    /**\n     * @param {?} config\n     * @param {?} $http\n     * @param {?} url\n     * @param {?} configurer\n     * @return {?}\n     */\n    function RestangularResource(config, $http, url, configurer) {\n        var /** @type {?} */ resource = {};\n        each(keys(configurer), function (key) {\n            var /** @type {?} */ value = configurer[key];\n            // Add default parameters\n            value.params = extend({}, value.params, config.defaultRequestParams[value.method.toLowerCase()]);\n            // We don't want the ? if no params are there\n            if (isEmpty(value.params)) {\n                delete value.params;\n            }\n            if (config.isSafe(value.method)) {\n                resource[key] = function () {\n                    var /** @type {?} */ config = extend(value, {\n                        url: url\n                    });\n                    return $http.createRequest(config);\n                };\n            }\n            else {\n                resource[key] = function (data) {\n                    var /** @type {?} */ config = extend(value, {\n                        url: url,\n                        data: data\n                    });\n                    return $http.createRequest(config);\n                };\n            }\n        });\n        return resource;\n    }\n    BaseCreator.prototype.resource = function (current, $http, localHttpConfig, callHeaders, callParams, what, etag, operation) {\n        var /** @type {?} */ params = defaults(callParams || {}, this.config.defaultRequestParams.common);\n        var /** @type {?} */ headers = defaults(callHeaders || {}, this.config.defaultHeaders);\n        if (etag) {\n            if (!config.isSafe(operation)) {\n                headers['If-Match'] = etag;\n            }\n            else {\n                headers['If-None-Match'] = etag;\n            }\n        }\n        var /** @type {?} */ url = this.base(current);\n        if (what) {\n            var /** @type {?} */ add = '';\n            if (!/\\/$/.test(url)) {\n                add += '/';\n            }\n            add += what;\n            url += add;\n        }\n        if (this.config.suffix &&\n            url.indexOf(this.config.suffix, url.length - this.config.suffix.length) === -1 && !this.config.getUrlFromElem(current)) {\n            url += this.config.suffix;\n        }\n        current[this.config.restangularFields.httpConfig] = undefined;\n        return RestangularResource(this.config, $http, url, {\n            getList: this.config.withHttpValues(localHttpConfig, {\n                method: 'GET',\n                params: params,\n                headers: headers\n            }),\n            get: this.config.withHttpValues(localHttpConfig, {\n                method: 'GET',\n                params: params,\n                headers: headers\n            }),\n            jsonp: this.config.withHttpValues(localHttpConfig, {\n                method: 'jsonp',\n                params: params,\n                headers: headers\n            }),\n            put: this.config.withHttpValues(localHttpConfig, {\n                method: 'PUT',\n                params: params,\n                headers: headers\n            }),\n            post: this.config.withHttpValues(localHttpConfig, {\n                method: 'POST',\n                params: params,\n                headers: headers\n            }),\n            remove: this.config.withHttpValues(localHttpConfig, {\n                method: 'DELETE',\n                params: params,\n                headers: headers\n            }),\n            head: this.config.withHttpValues(localHttpConfig, {\n                method: 'HEAD',\n                params: params,\n                headers: headers\n            }),\n            trace: this.config.withHttpValues(localHttpConfig, {\n                method: 'TRACE',\n                params: params,\n                headers: headers\n            }),\n            options: this.config.withHttpValues(localHttpConfig, {\n                method: 'OPTIONS',\n                params: params,\n                headers: headers\n            }),\n            patch: this.config.withHttpValues(localHttpConfig, {\n                method: 'PATCH',\n                params: params,\n                headers: headers\n            })\n        });\n    };\n    /**\n     * This is the Path URL creator. It uses Path to show Hierarchy in the Rest API.\n     * This means that if you have an Account that then has a set of Buildings, a URL to a building\n     * would be /accounts/123/buildings/456\n     *\n     */\n    var /** @type {?} */ Path = function () {\n    };\n    Path.prototype = new BaseCreator();\n    Path.prototype.normalizeUrl = function (url) {\n        var /** @type {?} */ parts = /((?:http[s]?:)?\\/\\/)?(.*)?/.exec(url);\n        parts[2] = parts[2].replace(/[\\\\\\/]+/g, '/');\n        return (typeof parts[1] !== 'undefined') ? parts[1] + parts[2] : parts[2];\n    };\n    Path.prototype.base = function (current) {\n        var /** @type {?} */ __this = this;\n        return reduce(this.parentsArray(current), function (acum, elem) {\n            var /** @type {?} */ elemUrl;\n            var /** @type {?} */ elemSelfLink = __this.config.getUrlFromElem(elem);\n            if (elemSelfLink) {\n                if (__this.config.isAbsoluteUrl(elemSelfLink)) {\n                    return elemSelfLink;\n                }\n                else {\n                    elemUrl = elemSelfLink;\n                }\n            }\n            else {\n                elemUrl = elem[__this.config.restangularFields.route];\n                if (elem[__this.config.restangularFields.restangularCollection]) {\n                    var /** @type {?} */ ids = elem[__this.config.restangularFields.ids];\n                    if (ids) {\n                        elemUrl += '/' + ids.join(',');\n                    }\n                }\n                else {\n                    var /** @type {?} */ elemId;\n                    if (__this.config.useCannonicalId) {\n                        elemId = __this.config.getCannonicalIdFromElem(elem);\n                    }\n                    else {\n                        elemId = __this.config.getIdFromElem(elem);\n                    }\n                    if (config.isValidId(elemId) && !elem.singleOne) {\n                        elemUrl += '/' + (__this.config.encodeIds ? encodeURIComponent(elemId) : elemId);\n                    }\n                }\n            }\n            acum = acum.replace(/\\/$/, '') + '/' + elemUrl;\n            return __this.normalizeUrl(acum);\n        }, this.config.baseUrl);\n    };\n    Path.prototype.fetchUrl = function (current, what) {\n        var /** @type {?} */ baseUrl = this.base(current);\n        if (what) {\n            baseUrl += '/' + what;\n        }\n        return baseUrl;\n    };\n    Path.prototype.fetchRequestedUrl = function (current, what) {\n        var /** @type {?} */ url = this.fetchUrl(current, what);\n        var /** @type {?} */ params = current[config.restangularFields.reqParams];\n        /**\n         * @param {?} obj\n         * @return {?}\n         */\n        function sortedKeys(obj) {\n            var /** @type {?} */ keys$$1 = [];\n            for (var /** @type {?} */ key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    keys$$1.push(key);\n                }\n            }\n            return keys$$1.sort();\n        }\n        /**\n         * @param {?} obj\n         * @param {?=} iterator\n         * @param {?=} context\n         * @return {?}\n         */\n        function forEachSorted(obj, iterator, context) {\n            var /** @type {?} */ keys$$1 = sortedKeys(obj);\n            for (var /** @type {?} */ i = 0; i < keys$$1.length; i++) {\n                iterator.call(context, obj[keys$$1[i]], keys$$1[i]);\n            }\n            return keys$$1;\n        }\n        /**\n         * @param {?} val\n         * @param {?=} pctEncodeSpaces\n         * @return {?}\n         */\n        function encodeUriQuery(val, pctEncodeSpaces) {\n            return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, (pctEncodeSpaces ? '%20' : '+'));\n        }\n        if (!params) {\n            return url + (this.config.suffix || '');\n        }\n        var /** @type {?} */ parts = [];\n        forEachSorted(params, function (value, key) {\n            if (value === null || value === undefined) {\n                return;\n            }\n            if (!isArray(value)) {\n                value = [value];\n            }\n            forEach(value, function (v) {\n                if (isObject(v)) {\n                    v = JSON.stringify(v);\n                }\n                parts.push(encodeUriQuery(key) + '=' + encodeUriQuery(v));\n            });\n        });\n        return url + (this.config.suffix || '') + ((url.indexOf('?') === -1) ? '?' : '&') + parts.join('&');\n    };\n    config.urlCreatorFactory.path = Path;\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Restangular = /** @class */ /*@__PURE__*/ (function () {\n    function Restangular(configObj, injector, http) {\n        this.configObj = configObj;\n        this.injector = injector;\n        this.http = http;\n        this.provider = new providerConfig(http);\n        var /** @type {?} */ element = this.provider.$get();\n        assign(this, element);\n        this.setDefaultConfig();\n    }\n    /**\n     * @return {?}\n     */\n    Restangular.prototype.setDefaultConfig = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            if (!this.configObj || !isFunction(this.configObj.fn)) {\n                return;\n            }\n            var /** @type {?} */ arrDI = map$1(this.configObj.arrServices, function (services) {\n                return _this.injector.get(services);\n            });\n            (_a = this.configObj).fn.apply(_a, __spread([this.provider], arrDI));\n            var _a;\n        };\n    return Restangular;\n}());\n/**\n * @param {?} $http\n * @return {?}\n */\nfunction providerConfig($http) {\n    var /** @type {?} */ globalConfiguration = {};\n    RestangularConfigurer(this, globalConfiguration);\n    this.$get = $get;\n    /**\n     * @return {?}\n     */\n    function $get() {\n        /**\n         * @param {?} config\n         * @return {?}\n         */\n        function createServiceForConfiguration(config) {\n            var /** @type {?} */ service = {};\n            var /** @type {?} */ urlHandler = new config.urlCreatorFactory[config.urlCreator]();\n            urlHandler.setConfig(config);\n            /**\n             * @param {?} parent\n             * @param {?} elem\n             * @param {?} route\n             * @param {?} reqParams\n             * @param {?} fromServer\n             * @return {?}\n             */\n            function restangularizeBase(parent, elem, route, reqParams, fromServer) {\n                elem[config.restangularFields.route] = route;\n                elem[config.restangularFields.getRestangularUrl] = bind(urlHandler.fetchUrl, urlHandler, elem);\n                elem[config.restangularFields.getRequestedUrl] = bind(urlHandler.fetchRequestedUrl, urlHandler, elem);\n                elem[config.restangularFields.addRestangularMethod] = bind(addRestangularMethodFunction, elem);\n                elem[config.restangularFields.clone] = bind(copyRestangularizedElement, elem);\n                elem[config.restangularFields.reqParams] = isEmpty(reqParams) ? null : reqParams;\n                elem[config.restangularFields.withHttpConfig] = bind(withHttpConfig, elem);\n                elem[config.restangularFields.plain] = bind(stripRestangular, elem, elem);\n                // Tag element as restangularized\n                elem[config.restangularFields.restangularized] = true;\n                // RequestLess connection\n                elem[config.restangularFields.one] = bind(one, elem, elem);\n                elem[config.restangularFields.all] = bind(all, elem, elem);\n                elem[config.restangularFields.several] = bind(several, elem, elem);\n                elem[config.restangularFields.oneUrl] = bind(oneUrl, elem, elem);\n                elem[config.restangularFields.allUrl] = bind(allUrl, elem, elem);\n                elem[config.restangularFields.fromServer] = !!fromServer;\n                if (parent && config.shouldSaveParent(route)) {\n                    var /** @type {?} */ parentId = config.getIdFromElem(parent);\n                    var /** @type {?} */ parentUrl = config.getUrlFromElem(parent);\n                    var /** @type {?} */ restangularFieldsForParent = union(values(pick(config.restangularFields, ['route', 'singleOne', 'parentResource'])), config.extraFields);\n                    var /** @type {?} */ parentResource = pick(parent, restangularFieldsForParent);\n                    if (config.isValidId(parentId)) {\n                        config.setIdToElem(parentResource, parentId, route);\n                    }\n                    if (config.isValidId(parentUrl)) {\n                        config.setUrlToElem(parentResource, parentUrl, route);\n                    }\n                    elem[config.restangularFields.parentResource] = parentResource;\n                }\n                else {\n                    elem[config.restangularFields.parentResource] = null;\n                }\n                return elem;\n            }\n            /**\n             * @param {?} parent\n             * @param {?} route\n             * @param {?} id\n             * @param {?} singleOne\n             * @return {?}\n             */\n            function one(parent, route, id, singleOne) {\n                var /** @type {?} */ error;\n                if (isNumber(route) || isNumber(parent)) {\n                    error = 'You\\'re creating a Restangular entity with the number ';\n                    error += 'instead of the route or the parent. For example, you can\\'t call .one(12).';\n                    throw new Error(error);\n                }\n                if (isUndefined(route)) {\n                    error = 'You\\'re creating a Restangular entity either without the path. ';\n                    error += 'For example you can\\'t call .one(). Please check if your arguments are valid.';\n                    throw new Error(error);\n                }\n                var /** @type {?} */ elem = {};\n                config.setIdToElem(elem, id, route);\n                config.setFieldToElem(config.restangularFields.singleOne, elem, singleOne);\n                return restangularizeElem(parent, elem, route, false);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} route\n             * @return {?}\n             */\n            function all(parent, route) {\n                return restangularizeCollection(parent, [], route, false);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} route\n             * @return {?}\n             */\n            function several(parent, route /*, ids */) {\n                var /** @type {?} */ collection = [];\n                collection[config.restangularFields.ids] = Array.prototype.splice.call(arguments, 2);\n                return restangularizeCollection(parent, collection, route, false);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} route\n             * @param {?} url\n             * @return {?}\n             */\n            function oneUrl(parent, route, url) {\n                if (!route) {\n                    throw new Error('Route is mandatory when creating new Restangular objects.');\n                }\n                var /** @type {?} */ elem = {};\n                config.setUrlToElem(elem, url, route);\n                return restangularizeElem(parent, elem, route, false);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} route\n             * @param {?} url\n             * @return {?}\n             */\n            function allUrl(parent, route, url) {\n                if (!route) {\n                    throw new Error('Route is mandatory when creating new Restangular objects.');\n                }\n                var /** @type {?} */ elem = {};\n                config.setUrlToElem(elem, url, route);\n                return restangularizeCollection(parent, elem, route, false);\n            }\n            /**\n             * @param {?} subject\n             * @param {?} isCollection\n             * @param {?} valueToFill\n             * @return {?}\n             */\n            function restangularizeResponse(subject, isCollection, valueToFill) {\n                return subject.pipe(filter(function (res) { return !!res; }));\n            }\n            /**\n             * @param {?} subject\n             * @param {?} response\n             * @param {?} data\n             * @param {?} filledValue\n             * @return {?}\n             */\n            function resolvePromise(subject, response, data, filledValue) {\n                extend(filledValue, data);\n                // Trigger the full response interceptor.\n                if (config.fullResponse) {\n                    subject.next(extend(response, {\n                        data: data\n                    }));\n                }\n                else {\n                    subject.next(data);\n                }\n                subject.complete();\n            }\n            /**\n             * @param {?} elem\n             * @return {?}\n             */\n            function stripRestangular(elem) {\n                if (isArray(elem)) {\n                    var /** @type {?} */ array = [];\n                    each(elem, function (value) {\n                        array.push(config.isRestangularized(value) ? stripRestangular(value) : value);\n                    });\n                    return array;\n                }\n                else {\n                    return omit(elem, values(omit(config.restangularFields, 'id')));\n                }\n            }\n            /**\n             * @param {?} elem\n             * @return {?}\n             */\n            function addCustomOperation(elem) {\n                elem[config.restangularFields.customOperation] = bind(customFunction, elem);\n                var /** @type {?} */ requestMethods = { get: customFunction, delete: customFunction };\n                each(['put', 'patch', 'post'], function (name) {\n                    requestMethods[name] = function (operation, elem, path, params, headers) {\n                        return bind(customFunction, this)(operation, path, params, headers, elem);\n                    };\n                });\n                each(requestMethods, function (requestFunc, name) {\n                    var /** @type {?} */ callOperation = name === 'delete' ? 'remove' : name;\n                    each(['do', 'custom'], function (alias) {\n                        elem[alias + name.toUpperCase()] = bind(requestFunc, elem, callOperation);\n                    });\n                });\n                elem[config.restangularFields.customGETLIST] = bind(fetchFunction, elem);\n                elem[config.restangularFields.doGETLIST] = elem[config.restangularFields.customGETLIST];\n            }\n            /**\n             * @param {?} fromElement\n             * @param {?=} toElement\n             * @return {?}\n             */\n            function copyRestangularizedElement(fromElement, toElement) {\n                if (toElement === void 0) {\n                    toElement = {};\n                }\n                var /** @type {?} */ copiedElement = assign(toElement, fromElement);\n                return restangularizeElem(copiedElement[config.restangularFields.parentResource], copiedElement, copiedElement[config.restangularFields.route], true);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} element\n             * @param {?} route\n             * @param {?=} fromServer\n             * @param {?=} collection\n             * @param {?=} reqParams\n             * @return {?}\n             */\n            function restangularizeElem(parent, element, route, fromServer, collection, reqParams) {\n                var /** @type {?} */ elem = config.onBeforeElemRestangularized(element, false, route);\n                var /** @type {?} */ localElem = restangularizeBase(parent, elem, route, reqParams, fromServer);\n                if (config.useCannonicalId) {\n                    localElem[config.restangularFields.cannonicalId] = config.getIdFromElem(localElem);\n                }\n                if (collection) {\n                    localElem[config.restangularFields.getParentList] = function () {\n                        return collection;\n                    };\n                }\n                localElem[config.restangularFields.restangularCollection] = false;\n                localElem[config.restangularFields.get] = bind(getFunction, localElem);\n                localElem[config.restangularFields.getList] = bind(fetchFunction, localElem);\n                localElem[config.restangularFields.put] = bind(putFunction, localElem);\n                localElem[config.restangularFields.post] = bind(postFunction, localElem);\n                localElem[config.restangularFields.remove] = bind(deleteFunction, localElem);\n                localElem[config.restangularFields.head] = bind(headFunction, localElem);\n                localElem[config.restangularFields.trace] = bind(traceFunction, localElem);\n                localElem[config.restangularFields.options] = bind(optionsFunction, localElem);\n                localElem[config.restangularFields.patch] = bind(patchFunction, localElem);\n                localElem[config.restangularFields.save] = bind(save, localElem);\n                addCustomOperation(localElem);\n                return config.transformElem(localElem, false, route, service, true);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} element\n             * @param {?} route\n             * @param {?=} fromServer\n             * @param {?=} reqParams\n             * @return {?}\n             */\n            function restangularizeCollection(parent, element, route, fromServer, reqParams) {\n                var /** @type {?} */ elem = config.onBeforeElemRestangularized(element, true, route);\n                var /** @type {?} */ localElem = restangularizeBase(parent, elem, route, reqParams, fromServer);\n                localElem[config.restangularFields.restangularCollection] = true;\n                localElem[config.restangularFields.post] = bind(postFunction, localElem, null);\n                localElem[config.restangularFields.remove] = bind(deleteFunction, localElem);\n                localElem[config.restangularFields.head] = bind(headFunction, localElem);\n                localElem[config.restangularFields.trace] = bind(traceFunction, localElem);\n                localElem[config.restangularFields.putElement] = bind(putElementFunction, localElem);\n                localElem[config.restangularFields.options] = bind(optionsFunction, localElem);\n                localElem[config.restangularFields.patch] = bind(patchFunction, localElem);\n                localElem[config.restangularFields.get] = bind(getById, localElem);\n                localElem[config.restangularFields.getList] = bind(fetchFunction, localElem, null);\n                addCustomOperation(localElem);\n                return config.transformElem(localElem, true, route, service, true);\n            }\n            /**\n             * @param {?} parent\n             * @param {?} element\n             * @param {?} route\n             * @return {?}\n             */\n            function restangularizeCollectionAndElements(parent, element, route) {\n                var /** @type {?} */ collection = restangularizeCollection(parent, element, route, false);\n                each(collection, function (elem) {\n                    if (elem) {\n                        restangularizeElem(parent, elem, route, false);\n                    }\n                });\n                return collection;\n            }\n            /**\n             * @param {?} id\n             * @param {?} reqParams\n             * @param {?} headers\n             * @return {?}\n             */\n            function getById(id, reqParams, headers) {\n                return this.customGET(id.toString(), reqParams, headers);\n            }\n            /**\n             * @param {?} idx\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function putElementFunction(idx, params, headers) {\n                var /** @type {?} */ __this = this;\n                var /** @type {?} */ elemToPut = this[idx];\n                var /** @type {?} */ subject = new BehaviorSubject(null);\n                var /** @type {?} */ filledArray = [];\n                filledArray = config.transformElem(filledArray, true, elemToPut[config.restangularFields.route], service);\n                elemToPut.put(params, headers)\n                    .subscribe(function (serverElem) {\n                    var /** @type {?} */ newArray = copyRestangularizedElement(__this);\n                    newArray[idx] = serverElem;\n                    filledArray = newArray;\n                    subject.next(newArray);\n                }, function (response) {\n                    subject.error(response);\n                }, function () {\n                    subject.complete();\n                });\n                return restangularizeResponse(subject, true, filledArray);\n            }\n            /**\n             * @param {?} resData\n             * @param {?} operation\n             * @param {?} route\n             * @param {?} fetchUrl\n             * @param {?} response\n             * @param {?} subject\n             * @return {?}\n             */\n            function parseResponse(resData, operation, route, fetchUrl, response, subject) {\n                var /** @type {?} */ data = config.responseExtractor(resData, operation, route, fetchUrl, response, subject);\n                var /** @type {?} */ etag = response.headers.get('ETag');\n                if (data && etag) {\n                    data[config.restangularFields.etag] = etag;\n                }\n                return data;\n            }\n            /**\n             * @param {?} what\n             * @param {?} reqParams\n             * @param {?} headers\n             * @return {?}\n             */\n            function fetchFunction(what, reqParams, headers) {\n                var /** @type {?} */ __this = this;\n                var /** @type {?} */ subject = new BehaviorSubject(null);\n                var /** @type {?} */ operation = 'getList';\n                var /** @type {?} */ url = urlHandler.fetchUrl(this, what);\n                var /** @type {?} */ whatFetched = what || __this[config.restangularFields.route];\n                var /** @type {?} */ request = config.fullRequestInterceptor(null, operation, whatFetched, url, headers || {}, reqParams || {}, this[config.restangularFields.httpConfig] || {});\n                var /** @type {?} */ filledArray = [];\n                filledArray = config.transformElem(filledArray, true, whatFetched, service);\n                var /** @type {?} */ method = 'getList';\n                if (config.jsonp) {\n                    method = 'jsonp';\n                }\n                var /** @type {?} */ okCallback = function (response) {\n                    var /** @type {?} */ resData = response.body;\n                    var /** @type {?} */ fullParams = response.config.params;\n                    var /** @type {?} */ data = parseResponse(resData, operation, whatFetched, url, response, subject);\n                    // support empty response for getList() calls (some APIs respond with 204 and empty body)\n                    if (isUndefined(data) || '' === data) {\n                        data = [];\n                    }\n                    if (!isArray(data)) {\n                        throw new Error('Response for getList SHOULD be an array and not an object or something else');\n                    }\n                    if (true === config.plainByDefault) {\n                        return resolvePromise(subject, response, data, filledArray);\n                    }\n                    var /** @type {?} */ processedData = map$1(data, function (elem) {\n                        if (!__this[config.restangularFields.restangularCollection]) {\n                            return restangularizeElem(__this, elem, what, true, data);\n                        }\n                        else {\n                            return restangularizeElem(__this[config.restangularFields.parentResource], elem, __this[config.restangularFields.route], true, data);\n                        }\n                    });\n                    processedData = extend(data, processedData);\n                    if (!__this[config.restangularFields.restangularCollection]) {\n                        resolvePromise(subject, response, restangularizeCollection(__this, processedData, what, true, fullParams), filledArray);\n                    }\n                    else {\n                        resolvePromise(subject, response, restangularizeCollection(__this[config.restangularFields.parentResource], processedData, __this[config.restangularFields.route], true, fullParams), filledArray);\n                    }\n                };\n                urlHandler.resource(this, $http, request.httpConfig, request.headers, request.params, what, this[config.restangularFields.etag], operation)[method]()\n                    .subscribe(okCallback, function error(response) {\n                    if (response.status === 304 && __this[config.restangularFields.restangularCollection]) {\n                        resolvePromise(subject, response, __this, filledArray);\n                    }\n                    else if (every(config.errorInterceptors, function (cb) {\n                        return cb(response, subject, okCallback) !== false;\n                    })) {\n                        // triggered if no callback returns false\n                        subject.error(response);\n                    }\n                });\n                return restangularizeResponse(subject, true, filledArray);\n            }\n            /**\n             * @param {?} httpConfig\n             * @return {?}\n             */\n            function withHttpConfig(httpConfig) {\n                this[config.restangularFields.httpConfig] = httpConfig;\n                return this;\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function save(params, headers) {\n                if (this[config.restangularFields.fromServer]) {\n                    return this[config.restangularFields.put](params, headers);\n                }\n                else {\n                    return bind(elemFunction, this)('post', undefined, params, undefined, headers);\n                }\n            }\n            /**\n             * @param {?} operation\n             * @param {?} what\n             * @param {?} params\n             * @param {?} obj\n             * @param {?} headers\n             * @return {?}\n             */\n            function elemFunction(operation, what, params, obj, headers) {\n                var /** @type {?} */ __this = this;\n                var /** @type {?} */ subject = new BehaviorSubject(null);\n                var /** @type {?} */ resParams = params || {};\n                var /** @type {?} */ route = what || this[config.restangularFields.route];\n                var /** @type {?} */ fetchUrl = urlHandler.fetchUrl(this, what);\n                var /** @type {?} */ callObj = obj || this;\n                // fallback to etag on restangular object (since for custom methods we probably don't explicitly specify the etag field)\n                var /** @type {?} */ etag = callObj[config.restangularFields.etag] || (operation !== 'post' ? this[config.restangularFields.etag] : null);\n                if (isObject(callObj) && config.isRestangularized(callObj)) {\n                    callObj = stripRestangular(callObj);\n                }\n                var /** @type {?} */ request = config.fullRequestInterceptor(callObj, operation, route, fetchUrl, headers || {}, resParams || {}, this[config.restangularFields.httpConfig] || {});\n                var /** @type {?} */ filledObject = {};\n                filledObject = config.transformElem(filledObject, false, route, service);\n                var /** @type {?} */ okCallback = function (response) {\n                    var /** @type {?} */ resData = get(response, 'body');\n                    var /** @type {?} */ fullParams = get(response, 'config.params');\n                    var /** @type {?} */ elem = parseResponse(resData, operation, route, fetchUrl, response, subject);\n                    if (elem) {\n                        var /** @type {?} */ data;\n                        if (true === config.plainByDefault) {\n                            return resolvePromise(subject, response, elem, filledObject);\n                        }\n                        if (operation === 'post' && !__this[config.restangularFields.restangularCollection]) {\n                            data = restangularizeElem(__this[config.restangularFields.parentResource], elem, route, true, null, fullParams);\n                            resolvePromise(subject, response, data, filledObject);\n                        }\n                        else {\n                            data = restangularizeElem(__this[config.restangularFields.parentResource], elem, __this[config.restangularFields.route], true, null, fullParams);\n                            data[config.restangularFields.singleOne] = __this[config.restangularFields.singleOne];\n                            resolvePromise(subject, response, data, filledObject);\n                        }\n                    }\n                    else {\n                        resolvePromise(subject, response, undefined, filledObject);\n                    }\n                };\n                var /** @type {?} */ errorCallback = function (response) {\n                    if (response.status === 304 && config.isSafe(operation)) {\n                        resolvePromise(subject, response, __this, filledObject);\n                    }\n                    else if (every(config.errorInterceptors, function (cb) {\n                        return cb(response, subject, okCallback) !== false;\n                    })) {\n                        // triggered if no callback returns false\n                        subject.error(response);\n                    }\n                };\n                // Overriding HTTP Method\n                var /** @type {?} */ callOperation = operation;\n                var /** @type {?} */ callHeaders = extend({}, request.headers);\n                var /** @type {?} */ isOverrideOperation = config.isOverridenMethod(operation);\n                if (isOverrideOperation) {\n                    callOperation = 'post';\n                    callHeaders = extend(callHeaders, { 'X-HTTP-Method-Override': operation === 'remove' ? 'DELETE' : operation.toUpperCase() });\n                }\n                else if (config.jsonp && callOperation === 'get') {\n                    callOperation = 'jsonp';\n                }\n                if (config.isSafe(operation)) {\n                    if (isOverrideOperation) {\n                        urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params, what, etag, callOperation)[callOperation]({}).subscribe(okCallback, errorCallback);\n                    }\n                    else {\n                        urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params, what, etag, callOperation)[callOperation]().subscribe(okCallback, errorCallback);\n                    }\n                }\n                else {\n                    urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params, what, etag, callOperation)[callOperation](request.element).subscribe(okCallback, errorCallback);\n                }\n                return restangularizeResponse(subject, false, filledObject);\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function getFunction(params, headers) {\n                return bind(elemFunction, this)('get', undefined, params, undefined, headers);\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function deleteFunction(params, headers) {\n                return bind(elemFunction, this)('remove', undefined, params, undefined, headers);\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function putFunction(params, headers) {\n                return bind(elemFunction, this)('put', undefined, params, undefined, headers);\n            }\n            /**\n             * @param {?} what\n             * @param {?} elem\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function postFunction(what, elem, params, headers) {\n                return bind(elemFunction, this)('post', what, params, elem, headers);\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function headFunction(params, headers) {\n                return bind(elemFunction, this)('head', undefined, params, undefined, headers);\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function traceFunction(params, headers) {\n                return bind(elemFunction, this)('trace', undefined, params, undefined, headers);\n            }\n            /**\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function optionsFunction(params, headers) {\n                return bind(elemFunction, this)('options', undefined, params, undefined, headers);\n            }\n            /**\n             * @param {?} elem\n             * @param {?} params\n             * @param {?} headers\n             * @return {?}\n             */\n            function patchFunction(elem, params, headers) {\n                return bind(elemFunction, this)('patch', undefined, params, elem, headers);\n            }\n            /**\n             * @param {?} operation\n             * @param {?} path\n             * @param {?} params\n             * @param {?} headers\n             * @param {?} elem\n             * @return {?}\n             */\n            function customFunction(operation, path, params, headers, elem) {\n                return bind(elemFunction, this)(operation, path, params, elem, headers);\n            }\n            /**\n             * @param {?} name\n             * @param {?} operation\n             * @param {?} path\n             * @param {?} defaultParams\n             * @param {?} defaultHeaders\n             * @param {?} defaultElem\n             * @return {?}\n             */\n            function addRestangularMethodFunction(name, operation, path, defaultParams, defaultHeaders, defaultElem) {\n                var /** @type {?} */ bindedFunction;\n                if (operation === 'getList') {\n                    bindedFunction = bind(fetchFunction, this, path);\n                }\n                else {\n                    bindedFunction = bind(customFunction, this, operation, path);\n                }\n                var /** @type {?} */ createdFunction = function (params, headers, elem) {\n                    var /** @type {?} */ callParams = defaults({\n                        params: params,\n                        headers: headers,\n                        elem: elem\n                    }, {\n                        params: defaultParams,\n                        headers: defaultHeaders,\n                        elem: defaultElem\n                    });\n                    return bindedFunction(callParams.params, callParams.headers, callParams.elem);\n                };\n                if (config.isSafe(operation)) {\n                    this[name] = createdFunction;\n                }\n                else {\n                    this[name] = function (elem, params, headers) {\n                        return createdFunction(params, headers, elem);\n                    };\n                }\n            }\n            /**\n             * @param {?} configurer\n             * @return {?}\n             */\n            function withConfigurationFunction(configurer) {\n                var /** @type {?} */ newConfig = clone(omit(config, 'configuration'));\n                RestangularConfigurer(newConfig, newConfig);\n                configurer(newConfig);\n                return createServiceForConfiguration(newConfig);\n            }\n            /**\n             * @param {?} route\n             * @param {?} parent\n             * @return {?}\n             */\n            function toService(route, parent) {\n                var /** @type {?} */ knownCollectionMethods = values(config.restangularFields);\n                var /** @type {?} */ serv = {};\n                var /** @type {?} */ collection = (parent || service).all(route);\n                serv.one = bind(one, (parent || service), parent, route);\n                serv.all = bind(collection.all, collection);\n                serv.post = bind(collection.post, collection);\n                serv.getList = bind(collection.getList, collection);\n                serv.withHttpConfig = bind(collection.withHttpConfig, collection);\n                serv.get = bind(collection.get, collection);\n                for (var /** @type {?} */ prop in collection) {\n                    if (collection.hasOwnProperty(prop) && isFunction(collection[prop]) && !includes(knownCollectionMethods, prop)) {\n                        serv[prop] = bind(collection[prop], collection);\n                    }\n                }\n                return serv;\n            }\n            RestangularConfigurer(service, config);\n            service.copy = bind(copyRestangularizedElement, service);\n            service.service = bind(toService, service);\n            service.withConfig = bind(withConfigurationFunction, service);\n            service.one = bind(one, service, null);\n            service.all = bind(all, service, null);\n            service.several = bind(several, service, null);\n            service.oneUrl = bind(oneUrl, service, null);\n            service.allUrl = bind(allUrl, service, null);\n            service.stripRestangular = bind(stripRestangular, service);\n            service.restangularizeElement = bind(restangularizeElem, service);\n            service.restangularizeCollection = bind(restangularizeCollectionAndElements, service);\n            return service;\n        }\n        return createServiceForConfiguration(globalConfiguration);\n    }\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar /** @type {?} */ CONFIG_OBJ = /*@__PURE__*/ new InjectionToken('configObj');\nvar RestangularModule = /** @class */ /*@__PURE__*/ (function () {\n    function RestangularModule(parentModule) {\n        if (parentModule) {\n            throw new Error('RestangularModule is already loaded. Import it in the AppModule only');\n        }\n    }\n    /**\n     * @param {?=} config1\n     * @param {?=} config2\n     * @return {?}\n     */\n    RestangularModule.forRoot = /**\n     * @param {?=} config1\n     * @param {?=} config2\n     * @return {?}\n     */\n        function (config1, config2) {\n            return {\n                ngModule: RestangularModule,\n                providers: [\n                    { provide: CONFIG_OBJ, useValue: [config1, config2] },\n                    { provide: RESTANGULAR, useFactory: RestangularFactory, deps: [CONFIG_OBJ] },\n                ]\n            };\n        };\n    return RestangularModule;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nexport { RestangularModule, Restangular, RestangularHttp, RESTANGULAR as b, RestangularFactory as c, CONFIG_OBJ as a };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXJlc3Rhbmd1bGFyLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9uZ3gtcmVzdGFuZ3VsYXIvbGliL25neC1yZXN0YW5ndWxhci5jb25maWcudHMiLCJuZzovL25neC1yZXN0YW5ndWxhci9saWIvbmd4LXJlc3Rhbmd1bGFyLWhlbHBlci50cyIsIm5nOi8vbmd4LXJlc3Rhbmd1bGFyL2xpYi9uZ3gtcmVzdGFuZ3VsYXItaHR0cC50cyIsIm5nOi8vbmd4LXJlc3Rhbmd1bGFyL2xpYi9uZ3gtcmVzdGFuZ3VsYXItY29uZmlnLmZhY3RvcnkudHMiLCJuZzovL25neC1yZXN0YW5ndWxhci9saWIvbmd4LXJlc3Rhbmd1bGFyLnRzIiwibmc6Ly9uZ3gtcmVzdGFuZ3VsYXIvbGliL25neC1yZXN0YW5ndWxhci5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbmplY3Rpb25Ub2tlbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnbG9kYXNoJztcblxuXG5leHBvcnQgY29uc3QgUkVTVEFOR1VMQVIgPSBuZXcgSW5qZWN0aW9uVG9rZW48c3RyaW5nPigncmVzdGFuZ3VsYXJXaXRoQ29uZmlnJyk7XG5leHBvcnQgZnVuY3Rpb24gUmVzdGFuZ3VsYXJGYWN0b3J5KGNvbmZpZykge1xuICBsZXQgY29uZmlnT2JqID0ge1xuICAgIGZuOiBjb25maWdbMF0sXG4gICAgYXJyU2VydmljZXM6IFtdLFxuICB9O1xuXG4gIGlmIChpc0FycmF5KGNvbmZpZ1swXSkpIHtcbiAgICBjb25maWdPYmogPSB7XG4gICAgICBhcnJTZXJ2aWNlczogY29uZmlnWzBdLFxuICAgICAgZm46IGNvbmZpZ1sxXVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGNvbmZpZ09iajtcbn1cbiIsImltcG9ydCB7SHR0cFJlcXVlc3QsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmltcG9ydCB7YXNzaWdufSBmcm9tICdjb3JlLWpzL2ZuL29iamVjdCc7XG5cbmV4cG9ydCBjbGFzcyBSZXN0YW5ndWxhckhlbHBlciB7XG5cbiAgc3RhdGljIGNyZWF0ZVJlcXVlc3Qob3B0aW9ucykge1xuICAgIGxldCByZXF1ZXN0UXVlcnlQYXJhbXMgPSBSZXN0YW5ndWxhckhlbHBlci5jcmVhdGVSZXF1ZXN0UXVlcnlQYXJhbXMob3B0aW9ucy5wYXJhbXMpO1xuICAgIGxldCByZXF1ZXN0SGVhZGVycyA9IFJlc3Rhbmd1bGFySGVscGVyLmNyZWF0ZVJlcXVlc3RIZWFkZXJzKG9wdGlvbnMuaGVhZGVycyk7XG4gICAgbGV0IG1ldGhvZE5hbWUgPSBvcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIGxldCB3aXRoQ3JlZGVudGlhbHMgPSBvcHRpb25zLndpdGhDcmVkZW50aWFscyB8fCBmYWxzZTtcblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IEh0dHBSZXF1ZXN0KFxuICAgICAgbWV0aG9kTmFtZSxcbiAgICAgIG9wdGlvbnMudXJsLFxuICAgICAgb3B0aW9ucy5kYXRhLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiByZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgcGFyYW1zOiByZXF1ZXN0UXVlcnlQYXJhbXMsXG4gICAgICAgIHJlc3BvbnNlVHlwZTogb3B0aW9ucy5yZXNwb25zZVR5cGUsXG4gICAgICAgIHdpdGhDcmVkZW50aWFsc1xuICAgICAgfVxuICAgICk7XG5cbiAgICBpZihbJ0dFVCcsICdERUxFVEUnLCAnSEVBRCcsICdKU09OUCcsICdPUFRJT05TJ10uaW5kZXhPZihtZXRob2ROYW1lKSA+PSAwKSB7XG4gICAgICByZXF1ZXN0ID0gbmV3IEh0dHBSZXF1ZXN0KFxuICAgICAgICBtZXRob2ROYW1lLFxuICAgICAgICBvcHRpb25zLnVybCxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLFxuICAgICAgICAgIHBhcmFtczogcmVxdWVzdFF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIHJlc3BvbnNlVHlwZTogb3B0aW9ucy5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgd2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlUmVxdWVzdFF1ZXJ5UGFyYW1zKHF1ZXJ5UGFyYW1zKSB7XG4gICAgbGV0IHJlcXVlc3RRdWVyeVBhcmFtcyA9IGFzc2lnbih7fSwgcXVlcnlQYXJhbXMpO1xuICAgIGxldCBzZWFyY2g6IEh0dHBQYXJhbXMgPSBuZXcgSHR0cFBhcmFtcygpO1xuXG4gICAgZm9yIChsZXQga2V5IGluIHJlcXVlc3RRdWVyeVBhcmFtcykge1xuICAgICAgbGV0IHZhbHVlOiBhbnkgPSByZXF1ZXN0UXVlcnlQYXJhbXNba2V5XTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICBzZWFyY2ggPSBzZWFyY2guYXBwZW5kKGtleSwgdmFsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gc2VhcmNoO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZVJlcXVlc3RIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgbGV0IHZhbHVlOiBhbnkgPSBoZWFkZXJzW2tleV07XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgSHR0cEhlYWRlcnMoYXNzaWduKHt9LCBoZWFkZXJzKSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBCYWNrZW5kLCBIdHRwRXJyb3JSZXNwb25zZSwgSHR0cFJlcXVlc3QsIEh0dHBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcblxuaW1wb3J0IHsgdGhyb3dFcnJvciwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBSZXN0YW5ndWxhckhlbHBlciB9IGZyb20gJy4vbmd4LXJlc3Rhbmd1bGFyLWhlbHBlcic7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBmaWx0ZXIsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7SHR0cEV2ZW50fSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cC9zcmMvcmVzcG9uc2UnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUmVzdGFuZ3VsYXJIdHRwIHtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaHR0cDogSHR0cEJhY2tlbmQpIHtcbiAgfVxuXG4gIGNyZWF0ZVJlcXVlc3Qob3B0aW9ucyk6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gUmVzdGFuZ3VsYXJIZWxwZXIuY3JlYXRlUmVxdWVzdChvcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QocmVxdWVzdCk7XG4gIH1cblxuICByZXF1ZXN0KHJlcXVlc3Q6IEh0dHBSZXF1ZXN0PGFueT4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PiB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5oYW5kbGUocmVxdWVzdClcbiAgICAucGlwZShcbiAgICAgIGZpbHRlcihldmVudCA9PiBldmVudCBpbnN0YW5jZW9mIEh0dHBSZXNwb25zZSksXG4gICAgICBtYXAoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKG5ldyBIdHRwRXJyb3JSZXNwb25zZShyZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pLFxuICAgICAgbWFwKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmVzcG9uc2UuY29uZmlnID0ge3BhcmFtczogcmVxdWVzdH07XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pLFxuICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuICAgICAgICBlcnIucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgIGVyci5kYXRhID0gZXJyLmVycm9yO1xuICAgICAgICBlcnIucmVwZWF0UmVxdWVzdCA9IChuZXdSZXF1ZXN0PykgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobmV3UmVxdWVzdCB8fCByZXF1ZXN0KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnIpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG59XG5cbiIsImltcG9ydCB7XG4gIGluY2x1ZGVzLFxuICBpc1VuZGVmaW5lZCxcbiAgaXNOdWxsLFxuICBpc0FycmF5LFxuICBpc09iamVjdCxcbiAgaXNCb29sZWFuLFxuICBkZWZhdWx0cyxcbiAgZWFjaCxcbiAgZXh0ZW5kLFxuICBmaW5kLFxuICBoYXMsXG4gIGluaXRpYWwsXG4gIGxhc3QsXG4gIGNsb25lLFxuICByZWR1Y2UsXG4gIGtleXMsXG4gIGlzRW1wdHksXG4gIGZvckVhY2gsXG59IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXN0YW5ndWxhckNvbmZpZ3VyZXIob2JqZWN0LCBjb25maWcpe1xuICBvYmplY3QuY29uZmlndXJhdGlvbiA9IGNvbmZpZztcblxuICAvKipcbiAgICogVGhvc2UgYXJlIEhUVFAgc2FmZSBtZXRob2RzIGZvciB3aGljaCB0aGVyZSBpcyBubyBuZWVkIHRvIHBhc3MgYW55IGRhdGEgd2l0aCB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHZhciBzYWZlTWV0aG9kcyA9IFsnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucycsICd0cmFjZScsICdnZXRsaXN0J107XG4gIGNvbmZpZy5pc1NhZmUgPSBmdW5jdGlvbiAob3BlcmF0aW9uKSB7XG4gICAgcmV0dXJuIGluY2x1ZGVzKHNhZmVNZXRob2RzLCBvcGVyYXRpb24udG9Mb3dlckNhc2UoKSk7XG4gIH07XG5cbiAgdmFyIGFic29sdXRlUGF0dGVybiA9IC9eaHR0cHM/OlxcL1xcLy9pO1xuICBjb25maWcuaXNBYnNvbHV0ZVVybCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICByZXR1cm4gaXNVbmRlZmluZWQoY29uZmlnLmFic29sdXRlVXJsKSB8fCBpc051bGwoY29uZmlnLmFic29sdXRlVXJsKSA/XG4gICAgc3RyaW5nICYmIGFic29sdXRlUGF0dGVybi50ZXN0KHN0cmluZykgOlxuICAgICAgY29uZmlnLmFic29sdXRlVXJsO1xuICB9O1xuXG4gIGNvbmZpZy5hYnNvbHV0ZVVybCA9IGlzVW5kZWZpbmVkKGNvbmZpZy5hYnNvbHV0ZVVybCkgPyB0cnVlIDogY29uZmlnLmFic29sdXRlVXJsO1xuICBvYmplY3Quc2V0U2VsZkxpbmtBYnNvbHV0ZVVybCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGNvbmZpZy5hYnNvbHV0ZVVybCA9IHZhbHVlO1xuICB9O1xuICAvKipcbiAgICogVGhpcyBpcyB0aGUgQmFzZVVSTCB0byBiZSB1c2VkIHdpdGggUmVzdGFuZ3VsYXJcbiAgICovXG4gIGNvbmZpZy5iYXNlVXJsID0gaXNVbmRlZmluZWQoY29uZmlnLmJhc2VVcmwpID8gJycgOiBjb25maWcuYmFzZVVybDtcbiAgb2JqZWN0LnNldEJhc2VVcmwgPSBmdW5jdGlvbiAobmV3QmFzZVVybCkge1xuICAgIGNvbmZpZy5iYXNlVXJsID0gL1xcLyQvLnRlc3QobmV3QmFzZVVybCkgP1xuICAgICAgbmV3QmFzZVVybC5zdWJzdHJpbmcoMCwgbmV3QmFzZVVybC5sZW5ndGggLSAxKSA6XG4gICAgICBuZXdCYXNlVXJsO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBleHRyYSBmaWVsZHMgdG8ga2VlcCBmcm9tIHRoZSBwYXJlbnRzXG4gICAqL1xuICBjb25maWcuZXh0cmFGaWVsZHMgPSBjb25maWcuZXh0cmFGaWVsZHMgfHwgW107XG4gIG9iamVjdC5zZXRFeHRyYUZpZWxkcyA9IGZ1bmN0aW9uIChuZXdFeHRyYUZpZWxkcykge1xuICAgIGNvbmZpZy5leHRyYUZpZWxkcyA9IG5ld0V4dHJhRmllbGRzO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTb21lIGRlZmF1bHQgJGh0dHAgcGFyYW1ldGVyIHRvIGJlIHVzZWQgaW4gRVZFUlkgY2FsbFxuICAgKiovXG4gIGNvbmZpZy5kZWZhdWx0SHR0cEZpZWxkcyA9IGNvbmZpZy5kZWZhdWx0SHR0cEZpZWxkcyB8fCB7fTtcbiAgb2JqZWN0LnNldERlZmF1bHRIdHRwRmllbGRzID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIGNvbmZpZy5kZWZhdWx0SHR0cEZpZWxkcyA9IHZhbHVlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQWx3YXlzIHJldHVybiBwbGFpbiBkYXRhLCBubyByZXN0YW5ndWxhcml6ZWQgb2JqZWN0XG4gICAqKi9cbiAgY29uZmlnLnBsYWluQnlEZWZhdWx0ID0gY29uZmlnLnBsYWluQnlEZWZhdWx0IHx8IGZhbHNlO1xuICBvYmplY3Quc2V0UGxhaW5CeURlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjb25maWcucGxhaW5CeURlZmF1bHQgPSB2YWx1ZSA9PT0gdHJ1ZSA/IHRydWUgOiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmZpZy53aXRoSHR0cFZhbHVlcyA9IGZ1bmN0aW9uIChodHRwTG9jYWxDb25maWcsIG9iaikge1xuICAgIHJldHVybiBkZWZhdWx0cyhvYmosIGh0dHBMb2NhbENvbmZpZywgY29uZmlnLmRlZmF1bHRIdHRwRmllbGRzKTtcbiAgfTtcblxuICBjb25maWcuZW5jb2RlSWRzID0gaXNVbmRlZmluZWQoY29uZmlnLmVuY29kZUlkcykgPyB0cnVlIDogY29uZmlnLmVuY29kZUlkcztcbiAgb2JqZWN0LnNldEVuY29kZUlkcyA9IGZ1bmN0aW9uIChlbmNvZGUpIHtcbiAgICBjb25maWcuZW5jb2RlSWRzID0gZW5jb2RlO1xuICB9O1xuXG4gIGNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtcyA9IGNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtcyB8fCB7XG4gICAgICBnZXQ6IHt9LFxuICAgICAgcG9zdDoge30sXG4gICAgICBwdXQ6IHt9LFxuICAgICAgcmVtb3ZlOiB7fSxcbiAgICAgIGNvbW1vbjoge31cbiAgICB9O1xuXG4gIG9iamVjdC5zZXREZWZhdWx0UmVxdWVzdFBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbTEsIHBhcmFtMikge1xuICAgIHZhciBtZXRob2RzID0gW10sXG4gICAgICBwYXJhbXMgPSBwYXJhbTIgfHwgcGFyYW0xO1xuICAgIGlmICghaXNVbmRlZmluZWQocGFyYW0yKSkge1xuICAgICAgaWYgKGlzQXJyYXkocGFyYW0xKSkge1xuICAgICAgICBtZXRob2RzID0gcGFyYW0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0aG9kcy5wdXNoKHBhcmFtMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1ldGhvZHMucHVzaCgnY29tbW9uJyk7XG4gICAgfVxuXG4gICAgZWFjaChtZXRob2RzLCBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICBjb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXNbbWV0aG9kXSA9IHBhcmFtcztcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBvYmplY3QucmVxdWVzdFBhcmFtcyA9IGNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtcztcblxuICBjb25maWcuZGVmYXVsdEhlYWRlcnMgPSBjb25maWcuZGVmYXVsdEhlYWRlcnMgfHwge307XG4gIG9iamVjdC5zZXREZWZhdWx0SGVhZGVycyA9IGZ1bmN0aW9uIChoZWFkZXJzKSB7XG4gICAgY29uZmlnLmRlZmF1bHRIZWFkZXJzID0gaGVhZGVycztcbiAgICBvYmplY3QuZGVmYXVsdEhlYWRlcnMgPSBjb25maWcuZGVmYXVsdEhlYWRlcnM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgb2JqZWN0LmRlZmF1bHRIZWFkZXJzID0gY29uZmlnLmRlZmF1bHRIZWFkZXJzO1xuXG5cbiAgLyoqXG4gICAqIE1ldGhvZCBvdmVycmlkZXJzIHJlc3BvbnNlIE1ldGhvZFxuICAgKiovXG4gIGNvbmZpZy5kZWZhdWx0UmVzcG9uc2VNZXRob2QgPSBjb25maWcuZGVmYXVsdFJlc3BvbnNlTWV0aG9kIHx8ICdwcm9taXNlJztcbiAgb2JqZWN0LnNldERlZmF1bHRSZXNwb25zZU1ldGhvZCA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICBjb25maWcuZGVmYXVsdFJlc3BvbnNlTWV0aG9kID0gbWV0aG9kO1xuICAgIG9iamVjdC5kZWZhdWx0UmVzcG9uc2VNZXRob2QgPSBjb25maWcuZGVmYXVsdFJlc3BvbnNlTWV0aG9kO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBvYmplY3QuZGVmYXVsdFJlc3BvbnNlTWV0aG9kID0gY29uZmlnLmRlZmF1bHRSZXNwb25zZU1ldGhvZDtcblxuICAvKipcbiAgICogTWV0aG9kIG92ZXJyaWRlcnMgd2lsbCBzZXQgd2hpY2ggbWV0aG9kcyBhcmUgc2VudCB2aWEgUE9TVCB3aXRoIGFuIFgtSFRUUC1NZXRob2QtT3ZlcnJpZGVcbiAgICoqL1xuICBjb25maWcubWV0aG9kT3ZlcnJpZGVycyA9IGNvbmZpZy5tZXRob2RPdmVycmlkZXJzIHx8IFtdO1xuICBvYmplY3Quc2V0TWV0aG9kT3ZlcnJpZGVycyA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB2YXIgb3ZlcnJpZGVycyA9IGV4dGVuZChbXSwgdmFsdWVzKTtcbiAgICBpZiAoY29uZmlnLmlzT3ZlcnJpZGVuTWV0aG9kKCdkZWxldGUnLCBvdmVycmlkZXJzKSkge1xuICAgICAgb3ZlcnJpZGVycy5wdXNoKCdyZW1vdmUnKTtcbiAgICB9XG4gICAgY29uZmlnLm1ldGhvZE92ZXJyaWRlcnMgPSBvdmVycmlkZXJzO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGNvbmZpZy5qc29ucCA9IGlzVW5kZWZpbmVkKGNvbmZpZy5qc29ucCkgPyBmYWxzZSA6IGNvbmZpZy5qc29ucDtcbiAgb2JqZWN0LnNldEpzb25wID0gZnVuY3Rpb24gKGFjdGl2ZSkge1xuICAgIGNvbmZpZy5qc29ucCA9IGFjdGl2ZTtcbiAgfTtcblxuICBjb25maWcuaXNPdmVycmlkZW5NZXRob2QgPSBmdW5jdGlvbiAobWV0aG9kLCB2YWx1ZXMpIHtcbiAgICB2YXIgc2VhcmNoID0gdmFsdWVzIHx8IGNvbmZpZy5tZXRob2RPdmVycmlkZXJzO1xuICAgIHJldHVybiAhaXNVbmRlZmluZWQoZmluZChzZWFyY2gsIGZ1bmN0aW9uIChvbmU6IHN0cmluZykge1xuICAgICAgcmV0dXJuIG9uZS50b0xvd2VyQ2FzZSgpID09PSBtZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFVSTCBjcmVhdG9yIHR5cGUuIEZvciBub3csIG9ubHkgUGF0aCBpcyBjcmVhdGVkLiBJbiB0aGUgZnV0dXJlIHdlJ2xsIGhhdmUgcXVlcnlQYXJhbXNcbiAgICoqL1xuICBjb25maWcudXJsQ3JlYXRvciA9IGNvbmZpZy51cmxDcmVhdG9yIHx8ICdwYXRoJztcbiAgb2JqZWN0LnNldFVybENyZWF0b3IgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmICghaGFzKGNvbmZpZy51cmxDcmVhdG9yRmFjdG9yeSwgbmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIFBhdGggc2VsZWN0ZWQgaXNuXFwndCB2YWxpZCcpO1xuICAgIH1cblxuICAgIGNvbmZpZy51cmxDcmVhdG9yID0gbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBzZXQgdGhlIHJlc3Rhbmd1bGFyIGZpZWxkcyBoZXJlLiBUaGUgMyByZXF1aXJlZCBmaWVsZHMgZm9yIFJlc3Rhbmd1bGFyIGFyZTpcbiAgICpcbiAgICogaWQ6IElkIG9mIHRoZSBlbGVtZW50XG4gICAqIHJvdXRlOiBuYW1lIG9mIHRoZSByb3V0ZSBvZiB0aGlzIGVsZW1lbnRcbiAgICogcGFyZW50UmVzb3VyY2U6IHRoZSByZWZlcmVuY2UgdG8gdGhlIHBhcmVudCByZXNvdXJjZVxuICAgKlxuICAgKiAgQWxsIG9mIHRoaXMgZmllbGRzIGV4Y2VwdCBmb3IgaWQsIGFyZSBoYW5kbGVkIChhbmQgY3JlYXRlZCkgYnkgUmVzdGFuZ3VsYXIuIEJ5IGRlZmF1bHQsXG4gICAqICB0aGUgZmllbGQgdmFsdWVzIHdpbGwgYmUgaWQsIHJvdXRlIGFuZCBwYXJlbnRSZXNvdXJjZSByZXNwZWN0aXZlbHlcbiAgICovXG4gIGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcyA9IGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcyB8fCB7XG4gICAgICBpZDogJ2lkJyxcbiAgICAgIHJvdXRlOiAncm91dGUnLFxuICAgICAgcGFyZW50UmVzb3VyY2U6ICdwYXJlbnRSZXNvdXJjZScsXG4gICAgICByZXN0YW5ndWxhckNvbGxlY3Rpb246ICdyZXN0YW5ndWxhckNvbGxlY3Rpb24nLFxuICAgICAgY2Fubm9uaWNhbElkOiAnX19jYW5ub25pY2FsSWQnLFxuICAgICAgZXRhZzogJ3Jlc3Rhbmd1bGFyRXRhZycsXG4gICAgICBzZWxmTGluazogJ2hyZWYnLFxuICAgICAgZ2V0OiAnZ2V0JyxcbiAgICAgIGdldExpc3Q6ICdnZXRMaXN0JyxcbiAgICAgIHB1dDogJ3B1dCcsXG4gICAgICBwb3N0OiAncG9zdCcsXG4gICAgICByZW1vdmU6ICdyZW1vdmUnLFxuICAgICAgaGVhZDogJ2hlYWQnLFxuICAgICAgdHJhY2U6ICd0cmFjZScsXG4gICAgICBvcHRpb25zOiAnb3B0aW9ucycsXG4gICAgICBwYXRjaDogJ3BhdGNoJyxcbiAgICAgIGdldFJlc3Rhbmd1bGFyVXJsOiAnZ2V0UmVzdGFuZ3VsYXJVcmwnLFxuICAgICAgZ2V0UmVxdWVzdGVkVXJsOiAnZ2V0UmVxdWVzdGVkVXJsJyxcbiAgICAgIHB1dEVsZW1lbnQ6ICdwdXRFbGVtZW50JyxcbiAgICAgIGFkZFJlc3Rhbmd1bGFyTWV0aG9kOiAnYWRkUmVzdGFuZ3VsYXJNZXRob2QnLFxuICAgICAgZ2V0UGFyZW50TGlzdDogJ2dldFBhcmVudExpc3QnLFxuICAgICAgY2xvbmU6ICdjbG9uZScsXG4gICAgICBpZHM6ICdpZHMnLFxuICAgICAgaHR0cENvbmZpZzogJ18kaHR0cENvbmZpZycsXG4gICAgICByZXFQYXJhbXM6ICdyZXFQYXJhbXMnLFxuICAgICAgb25lOiAnb25lJyxcbiAgICAgIGFsbDogJ2FsbCcsXG4gICAgICBzZXZlcmFsOiAnc2V2ZXJhbCcsXG4gICAgICBvbmVVcmw6ICdvbmVVcmwnLFxuICAgICAgYWxsVXJsOiAnYWxsVXJsJyxcbiAgICAgIGN1c3RvbVBVVDogJ2N1c3RvbVBVVCcsXG4gICAgICBjdXN0b21QQVRDSDogJ2N1c3RvbVBBVENIJyxcbiAgICAgIGN1c3RvbVBPU1Q6ICdjdXN0b21QT1NUJyxcbiAgICAgIGN1c3RvbURFTEVURTogJ2N1c3RvbURFTEVURScsXG4gICAgICBjdXN0b21HRVQ6ICdjdXN0b21HRVQnLFxuICAgICAgY3VzdG9tR0VUTElTVDogJ2N1c3RvbUdFVExJU1QnLFxuICAgICAgY3VzdG9tT3BlcmF0aW9uOiAnY3VzdG9tT3BlcmF0aW9uJyxcbiAgICAgIGRvUFVUOiAnZG9QVVQnLFxuICAgICAgZG9QQVRDSDogJ2RvUEFUQ0gnLFxuICAgICAgZG9QT1NUOiAnZG9QT1NUJyxcbiAgICAgIGRvREVMRVRFOiAnZG9ERUxFVEUnLFxuICAgICAgZG9HRVQ6ICdkb0dFVCcsXG4gICAgICBkb0dFVExJU1Q6ICdkb0dFVExJU1QnLFxuICAgICAgZnJvbVNlcnZlcjogJ2Zyb21TZXJ2ZXInLFxuICAgICAgd2l0aENvbmZpZzogJ3dpdGhDb25maWcnLFxuICAgICAgd2l0aEh0dHBDb25maWc6ICd3aXRoSHR0cENvbmZpZycsXG4gICAgICBzaW5nbGVPbmU6ICdzaW5nbGVPbmUnLFxuICAgICAgcGxhaW46ICdwbGFpbicsXG4gICAgICBzYXZlOiAnc2F2ZScsXG4gICAgICByZXN0YW5ndWxhcml6ZWQ6ICdyZXN0YW5ndWxhcml6ZWQnXG4gICAgfTtcbiAgb2JqZWN0LnNldFJlc3Rhbmd1bGFyRmllbGRzID0gZnVuY3Rpb24gKHJlc0ZpZWxkcykge1xuICAgIGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcyA9XG4gICAgICBleHRlbmQoe30sIGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcywgcmVzRmllbGRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBjb25maWcuaXNSZXN0YW5ndWxhcml6ZWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuICEhb2JqW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXN0YW5ndWxhcml6ZWRdO1xuICB9O1xuXG4gIGNvbmZpZy5zZXRGaWVsZFRvRWxlbSA9IGZ1bmN0aW9uIChmaWVsZCwgZWxlbSwgdmFsdWUpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IGZpZWxkLnNwbGl0KCcuJyk7XG4gICAgdmFyIGlkVmFsdWUgPSBlbGVtO1xuICAgIGVhY2goaW5pdGlhbChwcm9wZXJ0aWVzKSwgZnVuY3Rpb24gKHByb3A6IGFueSkge1xuICAgICAgaWRWYWx1ZVtwcm9wXSA9IHt9O1xuICAgICAgaWRWYWx1ZSA9IGlkVmFsdWVbcHJvcF07XG4gICAgfSk7XG4gICAgdmFyIGluZGV4OiBhbnkgPSBsYXN0KHByb3BlcnRpZXMpO1xuICAgIGlkVmFsdWVbaW5kZXhdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgY29uZmlnLmdldEZpZWxkRnJvbUVsZW0gPSBmdW5jdGlvbiAoZmllbGQsIGVsZW0pIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IGZpZWxkLnNwbGl0KCcuJyk7XG4gICAgdmFyIGlkVmFsdWU6IGFueSA9IGVsZW07XG4gICAgZWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKGlkVmFsdWUpIHtcbiAgICAgICAgaWRWYWx1ZSA9IGlkVmFsdWVbcHJvcF07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKGlkVmFsdWUpO1xuICB9O1xuXG4gIGNvbmZpZy5zZXRJZFRvRWxlbSA9IGZ1bmN0aW9uIChlbGVtLCBpZCAvKiwgcm91dGUgKi8pIHtcbiAgICBjb25maWcuc2V0RmllbGRUb0VsZW0oY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmlkLCBlbGVtLCBpZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgY29uZmlnLmdldElkRnJvbUVsZW0gPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgIHJldHVybiBjb25maWcuZ2V0RmllbGRGcm9tRWxlbShjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaWQsIGVsZW0pO1xuICB9O1xuXG4gIGNvbmZpZy5pc1ZhbGlkSWQgPSBmdW5jdGlvbiAoZWxlbUlkKSB7XG4gICAgcmV0dXJuICcnICE9PSBlbGVtSWQgJiYgIWlzVW5kZWZpbmVkKGVsZW1JZCkgJiYgIWlzTnVsbChlbGVtSWQpO1xuICB9O1xuXG4gIGNvbmZpZy5zZXRVcmxUb0VsZW0gPSBmdW5jdGlvbiAoZWxlbSwgdXJsIC8qLCByb3V0ZSAqLykge1xuICAgIGNvbmZpZy5zZXRGaWVsZFRvRWxlbShjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2VsZkxpbmssIGVsZW0sIHVybCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgY29uZmlnLmdldFVybEZyb21FbGVtID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICByZXR1cm4gY29uZmlnLmdldEZpZWxkRnJvbUVsZW0oY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnNlbGZMaW5rLCBlbGVtKTtcbiAgfTtcblxuICBjb25maWcudXNlQ2Fubm9uaWNhbElkID0gaXNVbmRlZmluZWQoY29uZmlnLnVzZUNhbm5vbmljYWxJZCkgPyBmYWxzZSA6IGNvbmZpZy51c2VDYW5ub25pY2FsSWQ7XG4gIG9iamVjdC5zZXRVc2VDYW5ub25pY2FsSWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjb25maWcudXNlQ2Fubm9uaWNhbElkID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgY29uZmlnLmdldENhbm5vbmljYWxJZEZyb21FbGVtID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICB2YXIgY2Fubm9uaWNhbElkID0gZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY2Fubm9uaWNhbElkXTtcbiAgICB2YXIgYWN0dWFsSWQgPSBjb25maWcuaXNWYWxpZElkKGNhbm5vbmljYWxJZCkgPyBjYW5ub25pY2FsSWQgOiBjb25maWcuZ2V0SWRGcm9tRWxlbShlbGVtKTtcbiAgICByZXR1cm4gYWN0dWFsSWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFJlc3BvbnNlIHBhcnNlci4gVGhpcyBpcyB1c2VkIGluIGNhc2UgeW91ciByZXNwb25zZSBpc24ndCBkaXJlY3RseSB0aGUgZGF0YS5cbiAgICogRm9yIGV4YW1wbGUgaWYgeW91IGhhdmUgYSByZXNwb25zZSBsaWtlIHttZXRhOiB7J21ldGEnfSwgZGF0YToge25hbWU6ICdHb250byd9fVxuICAgKiB5b3UgY2FuIGV4dHJhY3QgdGhpcyBkYXRhIHdoaWNoIGlzIHRoZSBvbmUgdGhhdCBuZWVkcyB3cmFwcGluZ1xuICAgKlxuICAgKiBUaGUgUmVzcG9uc2VFeHRyYWN0b3IgaXMgYSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSByZXNwb25zZSBhbmQgdGhlIG1ldGhvZCBleGVjdXRlZC5cbiAgICovXG5cbiAgY29uZmlnLnJlc3BvbnNlSW50ZXJjZXB0b3JzID0gY29uZmlnLnJlc3BvbnNlSW50ZXJjZXB0b3JzID8gWy4uLmNvbmZpZy5yZXNwb25zZUludGVyY2VwdG9yc10gOiBbXTtcblxuICBjb25maWcuZGVmYXVsdFJlc3BvbnNlSW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoZGF0YSAvKiwgb3BlcmF0aW9uLCB3aGF0LCB1cmwsIHJlc3BvbnNlLCBzdWJqZWN0ICovKSB7XG4gICAgcmV0dXJuIGRhdGEgfHwge307XG4gIH07XG5cbiAgY29uZmlnLnJlc3BvbnNlRXh0cmFjdG9yID0gZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgd2hhdCwgdXJsLCByZXNwb25zZSwgc3ViamVjdCkge1xuICAgIHZhciBpbnRlcmNlcHRvcnMgPSBjbG9uZShjb25maWcucmVzcG9uc2VJbnRlcmNlcHRvcnMpO1xuICAgIGludGVyY2VwdG9ycy5wdXNoKGNvbmZpZy5kZWZhdWx0UmVzcG9uc2VJbnRlcmNlcHRvcik7XG4gICAgdmFyIHRoZURhdGEgPSBkYXRhO1xuICAgIGVhY2goaW50ZXJjZXB0b3JzLCBmdW5jdGlvbiAoaW50ZXJjZXB0b3I6IGFueSkge1xuICAgICAgdGhlRGF0YSA9IGludGVyY2VwdG9yKHRoZURhdGEsIG9wZXJhdGlvbixcbiAgICAgICAgd2hhdCwgdXJsLCByZXNwb25zZSwgc3ViamVjdCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoZURhdGE7XG4gIH07XG5cbiAgb2JqZWN0LmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoZXh0cmFjdG9yKSB7XG4gICAgY29uZmlnLnJlc3BvbnNlSW50ZXJjZXB0b3JzLnB1c2goZXh0cmFjdG9yKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBjb25maWcuZXJyb3JJbnRlcmNlcHRvcnMgPSBjb25maWcuZXJyb3JJbnRlcmNlcHRvcnMgPyBbLi4uY29uZmlnLmVycm9ySW50ZXJjZXB0b3JzXSA6IFtdO1xuICBvYmplY3QuYWRkRXJyb3JJbnRlcmNlcHRvciA9IGZ1bmN0aW9uIChpbnRlcmNlcHRvcikge1xuICAgIGNvbmZpZy5lcnJvckludGVyY2VwdG9ycyA9IFtpbnRlcmNlcHRvciwgLi4uY29uZmlnLmVycm9ySW50ZXJjZXB0b3JzXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBvYmplY3Quc2V0UmVzcG9uc2VJbnRlcmNlcHRvciA9IG9iamVjdC5hZGRSZXNwb25zZUludGVyY2VwdG9yO1xuICBvYmplY3Quc2V0UmVzcG9uc2VFeHRyYWN0b3IgPSBvYmplY3QuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcjtcbiAgb2JqZWN0LnNldEVycm9ySW50ZXJjZXB0b3IgPSBvYmplY3QuYWRkRXJyb3JJbnRlcmNlcHRvcjtcblxuICAvKipcbiAgICogUmVzcG9uc2UgaW50ZXJjZXB0b3IgaXMgY2FsbGVkIGp1c3QgYmVmb3JlIHJlc29sdmluZyBwcm9taXNlcy5cbiAgICovXG5cblxuICAvKipcbiAgICogUmVxdWVzdCBpbnRlcmNlcHRvciBpcyBjYWxsZWQgYmVmb3JlIHNlbmRpbmcgYW4gb2JqZWN0IHRvIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBjb25maWcucmVxdWVzdEludGVyY2VwdG9ycyA9IGNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzID8gWy4uLmNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzXSA6IFtdO1xuXG4gIGNvbmZpZy5kZWZhdWx0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3BlcmF0aW9uLCBwYXRoLCB1cmwsIGhlYWRlcnMsIHBhcmFtcywgaHR0cENvbmZpZykge1xuICAgIHJldHVybiB7XG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgaHR0cENvbmZpZzogaHR0cENvbmZpZ1xuICAgIH07XG4gIH07XG5cbiAgY29uZmlnLmZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3BlcmF0aW9uLCBwYXRoLCB1cmwsIGhlYWRlcnMsIHBhcmFtcywgaHR0cENvbmZpZykge1xuICAgIHZhciBpbnRlcmNlcHRvcnMgPSBjbG9uZShjb25maWcucmVxdWVzdEludGVyY2VwdG9ycyk7XG4gICAgdmFyIGRlZmF1bHRSZXF1ZXN0ID0gY29uZmlnLmRlZmF1bHRJbnRlcmNlcHRvcihlbGVtZW50LCBvcGVyYXRpb24sIHBhdGgsIHVybCwgaGVhZGVycywgcGFyYW1zLCBodHRwQ29uZmlnKTtcbiAgICByZXR1cm4gcmVkdWNlKGludGVyY2VwdG9ycywgZnVuY3Rpb24gKHJlcXVlc3Q6IGFueSwgaW50ZXJjZXB0b3I6IGFueSkge1xuXG4gICAgICBsZXQgcmV0dXJuSW50ZXJjZXB0b3I6IGFueSA9IGludGVyY2VwdG9yKHJlcXVlc3QuZWxlbWVudCwgb3BlcmF0aW9uLCBwYXRoLCB1cmwsIHJlcXVlc3QuaGVhZGVycywgcmVxdWVzdC5wYXJhbXMsIHJlcXVlc3QuaHR0cENvbmZpZyk7XG4gICAgICByZXR1cm4gZXh0ZW5kKHJlcXVlc3QsIHJldHVybkludGVyY2VwdG9yKTtcbiAgICB9LCBkZWZhdWx0UmVxdWVzdCk7XG4gIH07XG5cbiAgb2JqZWN0LmFkZFJlcXVlc3RJbnRlcmNlcHRvciA9IGZ1bmN0aW9uIChpbnRlcmNlcHRvcikge1xuICAgIGNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzLnB1c2goZnVuY3Rpb24gKGVsZW0sIG9wZXJhdGlvbiwgcGF0aCwgdXJsLCBoZWFkZXJzLCBwYXJhbXMsIGh0dHBDb25maWcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICBlbGVtZW50OiBpbnRlcmNlcHRvcihlbGVtLCBvcGVyYXRpb24sIHBhdGgsIHVybCksXG4gICAgICAgIGh0dHBDb25maWc6IGh0dHBDb25maWdcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgb2JqZWN0LnNldFJlcXVlc3RJbnRlcmNlcHRvciA9IG9iamVjdC5hZGRSZXF1ZXN0SW50ZXJjZXB0b3I7XG5cbiAgb2JqZWN0LmFkZEZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoaW50ZXJjZXB0b3IpIHtcbiAgICBjb25maWcucmVxdWVzdEludGVyY2VwdG9ycy5wdXNoKGludGVyY2VwdG9yKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBvYmplY3Quc2V0RnVsbFJlcXVlc3RJbnRlcmNlcHRvciA9IG9iamVjdC5hZGRGdWxsUmVxdWVzdEludGVyY2VwdG9yO1xuXG4gIGNvbmZpZy5vbkJlZm9yZUVsZW1SZXN0YW5ndWxhcml6ZWQgPSBjb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkIHx8IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9O1xuICBvYmplY3Quc2V0T25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkID0gZnVuY3Rpb24gKHBvc3QpIHtcbiAgICBjb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkID0gcG9zdDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBvYmplY3Quc2V0UmVzdGFuZ3VsYXJpemVQcm9taXNlSW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoaW50ZXJjZXB0b3IpIHtcbiAgICBjb25maWcucmVzdGFuZ3VsYXJpemVQcm9taXNlSW50ZXJjZXB0b3IgPSBpbnRlcmNlcHRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGFmdGVyIGFuIGVsZW1lbnQgaGFzIGJlZW4gXCJSZXN0YW5ndWxhcml6ZWRcIi5cbiAgICpcbiAgICogSXQgcmVjZWl2ZXMgdGhlIGVsZW1lbnQsIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGl0J3MgYW4gZWxlbWVudCBvciBhIGNvbGxlY3Rpb25cbiAgICogYW5kIHRoZSBuYW1lIG9mIHRoZSBtb2RlbFxuICAgKlxuICAgKi9cbiAgY29uZmlnLm9uRWxlbVJlc3Rhbmd1bGFyaXplZCA9IGNvbmZpZy5vbkVsZW1SZXN0YW5ndWxhcml6ZWQgfHwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH07XG4gIG9iamVjdC5zZXRPbkVsZW1SZXN0YW5ndWxhcml6ZWQgPSBmdW5jdGlvbiAocG9zdCkge1xuICAgIGNvbmZpZy5vbkVsZW1SZXN0YW5ndWxhcml6ZWQgPSBwb3N0O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGNvbmZpZy5zaG91bGRTYXZlUGFyZW50ID0gY29uZmlnLnNob3VsZFNhdmVQYXJlbnQgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgb2JqZWN0LnNldFBhcmVudGxlc3MgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgY29uZmlnLnNob3VsZFNhdmVQYXJlbnQgPSBmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgcmV0dXJuICFpbmNsdWRlcyh2YWx1ZXMsIHJvdXRlKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc0Jvb2xlYW4odmFsdWVzKSkge1xuICAgICAgY29uZmlnLnNob3VsZFNhdmVQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWVzO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgbGV0cyB5b3Ugc2V0IGEgc3VmZml4IHRvIGV2ZXJ5IHJlcXVlc3QuXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCBpZiB5b3VyIGFwaSByZXF1aXJlcyB0aGF0IGZvciBKU29uIHJlcXVlc3RzIHlvdSBkbyAvdXNlcnMvMTIzLmpzb24sIHlvdSBjYW4gc2V0IHRoYXRcbiAgICogaW4gaGVyZS5cbiAgICpcbiAgICpcbiAgICogQnkgZGVmYXVsdCwgdGhlIHN1ZmZpeCBpcyBudWxsXG4gICAqL1xuICBjb25maWcuc3VmZml4ID0gaXNVbmRlZmluZWQoY29uZmlnLnN1ZmZpeCkgPyBudWxsIDogY29uZmlnLnN1ZmZpeDtcbiAgb2JqZWN0LnNldFJlcXVlc3RTdWZmaXggPSBmdW5jdGlvbiAobmV3U3VmZml4KSB7XG4gICAgY29uZmlnLnN1ZmZpeCA9IG5ld1N1ZmZpeDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGVsZW1lbnQgdHJhbnNmb3JtZXJzIGZvciBjZXJ0YWluIHJvdXRlcy5cbiAgICovXG4gIGNvbmZpZy50cmFuc2Zvcm1lcnMgPSBjb25maWcudHJhbnNmb3JtZXJzIHx8IHt9O1xuICBvYmplY3QuYWRkRWxlbWVudFRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKHR5cGUsIHNlY29uZEFyZywgdGhpcmRBcmcpIHtcbiAgICB2YXIgaXNDb2xsZWN0aW9uID0gbnVsbDtcbiAgICB2YXIgdHJhbnNmb3JtZXIgPSBudWxsO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICB0cmFuc2Zvcm1lciA9IHNlY29uZEFyZztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNmb3JtZXIgPSB0aGlyZEFyZztcbiAgICAgIGlzQ29sbGVjdGlvbiA9IHNlY29uZEFyZztcbiAgICB9XG5cbiAgICB2YXIgdHlwZVRyYW5zZm9ybWVycyA9IGNvbmZpZy50cmFuc2Zvcm1lcnNbdHlwZV07XG4gICAgaWYgKCF0eXBlVHJhbnNmb3JtZXJzKSB7XG4gICAgICB0eXBlVHJhbnNmb3JtZXJzID0gY29uZmlnLnRyYW5zZm9ybWVyc1t0eXBlXSA9IFtdO1xuICAgIH1cblxuICAgIHR5cGVUcmFuc2Zvcm1lcnMucHVzaChmdW5jdGlvbiAoY29sbCwgZWxlbSkge1xuICAgICAgaWYgKGlzTnVsbChpc0NvbGxlY3Rpb24pIHx8IChjb2xsID09PSBpc0NvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lcihlbGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcblxuICBvYmplY3QuZXh0ZW5kQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChyb3V0ZSwgZm4pIHtcbiAgICByZXR1cm4gb2JqZWN0LmFkZEVsZW1lbnRUcmFuc2Zvcm1lcihyb3V0ZSwgdHJ1ZSwgZm4pO1xuICB9O1xuXG4gIG9iamVjdC5leHRlbmRNb2RlbCA9IGZ1bmN0aW9uIChyb3V0ZSwgZm4pIHtcbiAgICByZXR1cm4gb2JqZWN0LmFkZEVsZW1lbnRUcmFuc2Zvcm1lcihyb3V0ZSwgZmFsc2UsIGZuKTtcbiAgfTtcblxuICBjb25maWcudHJhbnNmb3JtRWxlbSA9IGZ1bmN0aW9uIChlbGVtLCBpc0NvbGxlY3Rpb24sIHJvdXRlLCBSZXN0YW5ndWxhciwgZm9yY2UpIHtcbiAgICBpZiAoIWZvcmNlICYmICFjb25maWcudHJhbnNmb3JtTG9jYWxFbGVtZW50cyAmJiAhZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZnJvbVNlcnZlcl0pIHtcbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cbiAgICB2YXIgdHlwZVRyYW5zZm9ybWVycyA9IGNvbmZpZy50cmFuc2Zvcm1lcnNbcm91dGVdO1xuICAgIHZhciBjaGFuZ2VkRWxlbSA9IGVsZW07XG4gICAgaWYgKHR5cGVUcmFuc2Zvcm1lcnMpIHtcbiAgICAgIGVhY2godHlwZVRyYW5zZm9ybWVycywgZnVuY3Rpb24gKHRyYW5zZm9ybWVyOiAoaXNDb2xsZWN0aW9uOiBib29sZWFuLCBjaGFuZ2VkRWxlbTogYW55KSA9PiBhbnkpIHtcbiAgICAgICAgY2hhbmdlZEVsZW0gPSB0cmFuc2Zvcm1lcihpc0NvbGxlY3Rpb24sIGNoYW5nZWRFbGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnLm9uRWxlbVJlc3Rhbmd1bGFyaXplZChjaGFuZ2VkRWxlbSwgaXNDb2xsZWN0aW9uLCByb3V0ZSwgUmVzdGFuZ3VsYXIpO1xuICB9O1xuXG4gIGNvbmZpZy50cmFuc2Zvcm1Mb2NhbEVsZW1lbnRzID0gaXNVbmRlZmluZWQoY29uZmlnLnRyYW5zZm9ybUxvY2FsRWxlbWVudHMpID9cbiAgICBmYWxzZSA6XG4gICAgY29uZmlnLnRyYW5zZm9ybUxvY2FsRWxlbWVudHM7XG5cbiAgb2JqZWN0LnNldFRyYW5zZm9ybU9ubHlTZXJ2ZXJFbGVtZW50cyA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICBjb25maWcudHJhbnNmb3JtTG9jYWxFbGVtZW50cyA9ICFhY3RpdmU7XG4gIH07XG5cbiAgY29uZmlnLmZ1bGxSZXNwb25zZSA9IGlzVW5kZWZpbmVkKGNvbmZpZy5mdWxsUmVzcG9uc2UpID8gZmFsc2UgOiBjb25maWcuZnVsbFJlc3BvbnNlO1xuICBvYmplY3Quc2V0RnVsbFJlc3BvbnNlID0gZnVuY3Rpb24gKGZ1bGwpIHtcbiAgICBjb25maWcuZnVsbFJlc3BvbnNlID0gZnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuXG4gIC8vSW50ZXJuYWwgdmFsdWVzIGFuZCBmdW5jdGlvbnNcbiAgY29uZmlnLnVybENyZWF0b3JGYWN0b3J5ID0ge307XG5cbiAgLyoqXG4gICAqIEJhc2UgVVJMIENyZWF0b3IuIEJhc2UgcHJvdG90eXBlIGZvciBldmVyeXRoaW5nIHJlbGF0ZWQgdG8gaXRcbiAgICoqL1xuXG4gIHZhciBCYXNlQ3JlYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgfTtcblxuICBCYXNlQ3JlYXRvci5wcm90b3R5cGUuc2V0Q29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEJhc2VDcmVhdG9yLnByb3RvdHlwZS5wYXJlbnRzQXJyYXkgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgIHZhciBwYXJlbnRzID0gW107XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgIHBhcmVudHMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3RoaXMuY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudHMucmV2ZXJzZSgpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFJlc3Rhbmd1bGFyUmVzb3VyY2UoY29uZmlnLCAkaHR0cCwgdXJsLCBjb25maWd1cmVyKSB7XG4gICAgdmFyIHJlc291cmNlID0ge307XG4gICAgZWFjaChrZXlzKGNvbmZpZ3VyZXIpLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBjb25maWd1cmVyW2tleV07XG5cbiAgICAgIC8vIEFkZCBkZWZhdWx0IHBhcmFtZXRlcnNcbiAgICAgIHZhbHVlLnBhcmFtcyA9IGV4dGVuZCh7fSwgdmFsdWUucGFyYW1zLCBjb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXNbdmFsdWUubWV0aG9kLnRvTG93ZXJDYXNlKCldKTtcbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdGhlID8gaWYgbm8gcGFyYW1zIGFyZSB0aGVyZVxuICAgICAgaWYgKGlzRW1wdHkodmFsdWUucGFyYW1zKSkge1xuICAgICAgICBkZWxldGUgdmFsdWUucGFyYW1zO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uZmlnLmlzU2FmZSh2YWx1ZS5tZXRob2QpKSB7XG5cbiAgICAgICAgcmVzb3VyY2Vba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBsZXQgY29uZmlnID0gZXh0ZW5kKHZhbHVlLCB7XG4gICAgICAgICAgICB1cmw6IHVybFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5jcmVhdGVSZXF1ZXN0KGNvbmZpZyk7XG4gICAgICAgIH07XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgcmVzb3VyY2Vba2V5XSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgbGV0IGNvbmZpZyA9IGV4dGVuZCh2YWx1ZSwge1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuICRodHRwLmNyZWF0ZVJlcXVlc3QoY29uZmlnKTtcbiAgICAgICAgfTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc291cmNlO1xuICB9XG5cbiAgQmFzZUNyZWF0b3IucHJvdG90eXBlLnJlc291cmNlID0gZnVuY3Rpb24gKGN1cnJlbnQsICRodHRwLCBsb2NhbEh0dHBDb25maWcsIGNhbGxIZWFkZXJzLCBjYWxsUGFyYW1zLCB3aGF0LCBldGFnLCBvcGVyYXRpb24pIHtcbiAgICB2YXIgcGFyYW1zID0gZGVmYXVsdHMoY2FsbFBhcmFtcyB8fCB7fSwgdGhpcy5jb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXMuY29tbW9uKTtcbiAgICB2YXIgaGVhZGVycyA9IGRlZmF1bHRzKGNhbGxIZWFkZXJzIHx8IHt9LCB0aGlzLmNvbmZpZy5kZWZhdWx0SGVhZGVycyk7XG5cbiAgICBpZiAoZXRhZykge1xuICAgICAgaWYgKCFjb25maWcuaXNTYWZlKG9wZXJhdGlvbikpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTWF0Y2gnXSA9IGV0YWc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkZXJzWydJZi1Ob25lLU1hdGNoJ10gPSBldGFnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB1cmwgPSB0aGlzLmJhc2UoY3VycmVudCk7XG5cbiAgICBpZiAod2hhdCkge1xuICAgICAgdmFyIGFkZCA9ICcnO1xuICAgICAgaWYgKCEvXFwvJC8udGVzdCh1cmwpKSB7XG4gICAgICAgIGFkZCArPSAnLyc7XG4gICAgICB9XG4gICAgICBhZGQgKz0gd2hhdDtcbiAgICAgIHVybCArPSBhZGQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnLnN1ZmZpeCAmJlxuICAgICAgdXJsLmluZGV4T2YodGhpcy5jb25maWcuc3VmZml4LCB1cmwubGVuZ3RoIC0gdGhpcy5jb25maWcuc3VmZml4Lmxlbmd0aCkgPT09IC0xICYmICF0aGlzLmNvbmZpZy5nZXRVcmxGcm9tRWxlbShjdXJyZW50KSkge1xuICAgICAgdXJsICs9IHRoaXMuY29uZmlnLnN1ZmZpeDtcbiAgICB9XG5cbiAgICBjdXJyZW50W3RoaXMuY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmh0dHBDb25maWddID0gdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIFJlc3Rhbmd1bGFyUmVzb3VyY2UodGhpcy5jb25maWcsICRodHRwLCB1cmwsIHtcbiAgICAgIGdldExpc3Q6IHRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9KSxcblxuICAgICAgZ2V0OiB0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgfSksXG5cbiAgICAgIGpzb25wOiB0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdqc29ucCcsXG4gICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9KSxcblxuICAgICAgcHV0OiB0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgfSksXG5cbiAgICAgIHBvc3Q6IHRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgfSksXG5cbiAgICAgIHJlbW92ZTogdGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgIH0pLFxuXG4gICAgICBoZWFkOiB0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdIRUFEJyxcbiAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgIH0pLFxuXG4gICAgICB0cmFjZTogdGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnVFJBQ0UnLFxuICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgfSksXG5cbiAgICAgIG9wdGlvbnM6IHRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ09QVElPTlMnLFxuICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgfSksXG5cbiAgICAgIHBhdGNoOiB0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9KVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBQYXRoIFVSTCBjcmVhdG9yLiBJdCB1c2VzIFBhdGggdG8gc2hvdyBIaWVyYXJjaHkgaW4gdGhlIFJlc3QgQVBJLlxuICAgKiBUaGlzIG1lYW5zIHRoYXQgaWYgeW91IGhhdmUgYW4gQWNjb3VudCB0aGF0IHRoZW4gaGFzIGEgc2V0IG9mIEJ1aWxkaW5ncywgYSBVUkwgdG8gYSBidWlsZGluZ1xuICAgKiB3b3VsZCBiZSAvYWNjb3VudHMvMTIzL2J1aWxkaW5ncy80NTZcbiAgICoqL1xuICB2YXIgUGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgfTtcblxuICBQYXRoLnByb3RvdHlwZSA9IG5ldyBCYXNlQ3JlYXRvcigpO1xuXG4gIFBhdGgucHJvdG90eXBlLm5vcm1hbGl6ZVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgcGFydHMgPSAvKCg/Omh0dHBbc10/Oik/XFwvXFwvKT8oLiopPy8uZXhlYyh1cmwpO1xuICAgIHBhcnRzWzJdID0gcGFydHNbMl0ucmVwbGFjZSgvW1xcXFxcXC9dKy9nLCAnLycpO1xuICAgIHJldHVybiAodHlwZW9mIHBhcnRzWzFdICE9PSAndW5kZWZpbmVkJykgPyBwYXJ0c1sxXSArIHBhcnRzWzJdIDogcGFydHNbMl07XG4gIH07XG5cbiAgUGF0aC5wcm90b3R5cGUuYmFzZSA9IGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgdmFyIF9fdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLnBhcmVudHNBcnJheShjdXJyZW50KSwgZnVuY3Rpb24gKGFjdW06IGFueSwgZWxlbTogYW55KSB7XG4gICAgICB2YXIgZWxlbVVybDtcbiAgICAgIHZhciBlbGVtU2VsZkxpbmsgPSBfX3RoaXMuY29uZmlnLmdldFVybEZyb21FbGVtKGVsZW0pO1xuICAgICAgaWYgKGVsZW1TZWxmTGluaykge1xuICAgICAgICBpZiAoX190aGlzLmNvbmZpZy5pc0Fic29sdXRlVXJsKGVsZW1TZWxmTGluaykpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbVNlbGZMaW5rO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1VcmwgPSBlbGVtU2VsZkxpbms7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1VcmwgPSBlbGVtW19fdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdO1xuXG4gICAgICAgIGlmIChlbGVtW19fdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSkge1xuICAgICAgICAgIHZhciBpZHMgPSBlbGVtW19fdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaWRzXTtcbiAgICAgICAgICBpZiAoaWRzKSB7XG4gICAgICAgICAgICBlbGVtVXJsICs9ICcvJyArIGlkcy5qb2luKCcsJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBlbGVtSWQ6IGFueTtcbiAgICAgICAgICBpZiAoX190aGlzLmNvbmZpZy51c2VDYW5ub25pY2FsSWQpIHtcbiAgICAgICAgICAgIGVsZW1JZCA9IF9fdGhpcy5jb25maWcuZ2V0Q2Fubm9uaWNhbElkRnJvbUVsZW0oZWxlbSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1JZCA9IF9fdGhpcy5jb25maWcuZ2V0SWRGcm9tRWxlbShlbGVtKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29uZmlnLmlzVmFsaWRJZChlbGVtSWQpICYmICFlbGVtLnNpbmdsZU9uZSkge1xuICAgICAgICAgICAgZWxlbVVybCArPSAnLycgKyAoX190aGlzLmNvbmZpZy5lbmNvZGVJZHMgPyBlbmNvZGVVUklDb21wb25lbnQoZWxlbUlkKSA6IGVsZW1JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhY3VtID0gYWN1bS5yZXBsYWNlKC9cXC8kLywgJycpICsgJy8nICsgZWxlbVVybDtcbiAgICAgIHJldHVybiBfX3RoaXMubm9ybWFsaXplVXJsKGFjdW0pO1xuXG4gICAgfSwgdGhpcy5jb25maWcuYmFzZVVybCk7XG4gIH07XG5cblxuICBQYXRoLnByb3RvdHlwZS5mZXRjaFVybCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3aGF0KSB7XG4gICAgdmFyIGJhc2VVcmwgPSB0aGlzLmJhc2UoY3VycmVudCk7XG4gICAgaWYgKHdoYXQpIHtcbiAgICAgIGJhc2VVcmwgKz0gJy8nICsgd2hhdDtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVcmw7XG4gIH07XG5cbiAgUGF0aC5wcm90b3R5cGUuZmV0Y2hSZXF1ZXN0ZWRVcmwgPSBmdW5jdGlvbiAoY3VycmVudCwgd2hhdCkge1xuICAgIHZhciB1cmwgPSB0aGlzLmZldGNoVXJsKGN1cnJlbnQsIHdoYXQpO1xuICAgIHZhciBwYXJhbXMgPSBjdXJyZW50W2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXFQYXJhbXNdO1xuXG4gICAgLy8gRnJvbSBoZXJlIG9uIGFuZCB1bnRpbCB0aGUgZW5kIG9mIGZldGNoUmVxdWVzdGVkVXJsLFxuICAgIC8vIHRoZSBjb2RlIGhhcyBiZWVuIGtpbmRseSBib3Jyb3dlZCBmcm9tIGFuZ3VsYXIuanNcbiAgICAvLyBUaGUgcmVhc29uIGZvciBzdWNoIGNvZGUgYmxvYXRpbmcgaXMgY29oZXJlbmNlOlxuICAgIC8vICAgSWYgdGhlIHVzZXIgd2VyZSB0byB1c2UgdGhpcyBmb3IgY2FjaGUgbWFuYWdlbWVudCwgdGhlXG4gICAgLy8gICBzZXJpYWxpemF0aW9uIG9mIHBhcmFtZXRlcnMgd291bGQgbmVlZCB0byBiZSBpZGVudGljYWxcbiAgICAvLyAgIHRvIHRoZSBvbmUgZG9uZSBieSBhbmd1bGFyIGZvciBjYWNoZSBrZXlzIHRvIG1hdGNoLlxuICAgIGZ1bmN0aW9uIHNvcnRlZEtleXMob2JqKSB7XG4gICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGtleXMuc29ydCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLCBpdGVyYXRvcj8sIGNvbnRleHQ/KSB7XG4gICAgICB2YXIga2V5cyA9IHNvcnRlZEtleXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcz8pIHtcbiAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5yZXBsYWNlKC8lNDAvZ2ksICdAJykucmVwbGFjZSgvJTNBL2dpLCAnOicpLnJlcGxhY2UoLyUyNC9nLCAnJCcpLnJlcGxhY2UoLyUyQy9naSwgJywnKS5yZXBsYWNlKC8lMjAvZywgKHBjdEVuY29kZVNwYWNlcyA/ICclMjAnIDogJysnKSk7XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgIHJldHVybiB1cmwgKyAodGhpcy5jb25maWcuc3VmZml4IHx8ICcnKTtcbiAgICB9XG5cbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBbdmFsdWVdO1xuICAgICAgfVxuXG4gICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiAodikge1xuICAgICAgICBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpICsgJz0nICsgZW5jb2RlVXJpUXVlcnkodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsICsgKHRoaXMuY29uZmlnLnN1ZmZpeCB8fCAnJykgKyAoKHVybC5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJykgKyBwYXJ0cy5qb2luKCcmJyk7XG4gIH07XG5cbiAgY29uZmlnLnVybENyZWF0b3JGYWN0b3J5LnBhdGggPSBQYXRoO1xufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0LCBJbmplY3RvciwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ2NvcmUtanMvZm4vb2JqZWN0JztcbmltcG9ydCB7XG4gIG1hcCxcbiAgYmluZCxcbiAgdW5pb24sXG4gIHZhbHVlcyxcbiAgcGljayxcbiAgaXNFbXB0eSxcbiAgaXNGdW5jdGlvbixcbiAgaXNOdW1iZXIsXG4gIGlzVW5kZWZpbmVkLFxuICBpc0FycmF5LFxuICBpc09iamVjdCxcbiAgZXh0ZW5kLFxuICBlYWNoLFxuICBldmVyeSxcbiAgb21pdCxcbiAgZ2V0LFxuICBkZWZhdWx0cyxcbiAgY2xvbmUsXG4gIGluY2x1ZGVzXG59IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBSRVNUQU5HVUxBUiB9IGZyb20gJy4vbmd4LXJlc3Rhbmd1bGFyLmNvbmZpZyc7XG5pbXBvcnQgeyBSZXN0YW5ndWxhckh0dHAgfSBmcm9tICcuL25neC1yZXN0YW5ndWxhci1odHRwJztcbmltcG9ydCB7IFJlc3Rhbmd1bGFyQ29uZmlndXJlciB9IGZyb20gJy4vbmd4LXJlc3Rhbmd1bGFyLWNvbmZpZy5mYWN0b3J5JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFJlc3Rhbmd1bGFyIHtcbiAgcHJvdmlkZXI6IHtcbiAgICBzZXRCYXNlVXJsOiBhbnksXG4gICAgc2V0RGVmYXVsdEhlYWRlcnM6IGFueSxcbiAgICBjb25maWd1cmF0aW9uOiBhbnksXG4gICAgc2V0U2VsZkxpbmtBYnNvbHV0ZVVybDogYW55LFxuICAgIHNldEV4dHJhRmllbGRzOiBhbnksXG4gICAgc2V0RGVmYXVsdEh0dHBGaWVsZHM6IGFueSxcbiAgICBzZXRQbGFpbkJ5RGVmYXVsdDogYW55LFxuICAgIHNldEVuY29kZUlkczogYW55LFxuICAgIHNldERlZmF1bHRSZXF1ZXN0UGFyYW1zOiBhbnksXG4gICAgcmVxdWVzdFBhcmFtczogYW55LFxuICAgIGRlZmF1bHRIZWFkZXJzOiBhbnksXG4gICAgc2V0RGVmYXVsdFJlc3BvbnNlTWV0aG9kOiBhbnksXG4gICAgZGVmYXVsdFJlc3BvbnNlTWV0aG9kOiBhbnksXG4gICAgc2V0TWV0aG9kT3ZlcnJpZGVyczogYW55LFxuICAgIHNldEpzb25wOiBhbnksXG4gICAgc2V0VXJsQ3JlYXRvcjogYW55LFxuICAgIHNldFJlc3Rhbmd1bGFyRmllbGRzOiBhbnksXG4gICAgc2V0VXNlQ2Fubm9uaWNhbElkOiBhbnksXG4gICAgYWRkUmVzcG9uc2VJbnRlcmNlcHRvcjogYW55LFxuICAgIGFkZEVycm9ySW50ZXJjZXB0b3I6IGFueSxcbiAgICBzZXRSZXNwb25zZUludGVyY2VwdG9yOiBhbnksXG4gICAgc2V0UmVzcG9uc2VFeHRyYWN0b3I6IGFueSxcbiAgICBzZXRFcnJvckludGVyY2VwdG9yOiBhbnksXG4gICAgYWRkUmVxdWVzdEludGVyY2VwdG9yOiBhbnksXG4gICAgc2V0UmVxdWVzdEludGVyY2VwdG9yOiBhbnksXG4gICAgc2V0RnVsbFJlcXVlc3RJbnRlcmNlcHRvcjogYW55LFxuICAgIGFkZEZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3I6IGFueSxcbiAgICBzZXRPbkJlZm9yZUVsZW1SZXN0YW5ndWxhcml6ZWQ6IGFueSxcbiAgICBzZXRSZXN0YW5ndWxhcml6ZVByb21pc2VJbnRlcmNlcHRvcjogYW55LFxuICAgIHNldE9uRWxlbVJlc3Rhbmd1bGFyaXplZDogYW55LFxuICAgIHNldFBhcmVudGxlc3M6IGFueSxcbiAgICBzZXRSZXF1ZXN0U3VmZml4OiBhbnksXG4gICAgYWRkRWxlbWVudFRyYW5zZm9ybWVyOiBhbnksXG4gICAgZXh0ZW5kQ29sbGVjdGlvbjogYW55LFxuICAgIGV4dGVuZE1vZGVsOiBhbnksXG4gICAgc2V0VHJhbnNmb3JtT25seVNlcnZlckVsZW1lbnRzOiBhbnksXG4gICAgc2V0RnVsbFJlc3BvbnNlOiBhbnksXG4gICAgJGdldDogYW55XG4gIH07XG4gIGFkZEVsZW1lbnRUcmFuc2Zvcm1lcjogYW55O1xuICBleHRlbmRDb2xsZWN0aW9uOiBhbnk7XG4gIGV4dGVuZE1vZGVsOiBhbnk7XG4gIGNvcHk7XG4gIGNvbmZpZ3VyYXRpb247XG4gIHNlcnZpY2U7XG4gIGlkO1xuICByb3V0ZTtcbiAgcGFyZW50UmVzb3VyY2U7XG4gIHJlc3Rhbmd1bGFyQ29sbGVjdGlvbjtcbiAgY2Fubm9uaWNhbElkO1xuICBldGFnO1xuICBzZWxmTGluaztcbiAgZ2V0O1xuICBnZXRMaXN0O1xuICBwdXQ7XG4gIHBvc3Q7XG4gIHJlbW92ZTtcbiAgaGVhZDtcbiAgdHJhY2U7XG4gIG9wdGlvbnM7XG4gIHBhdGNoO1xuICBnZXRSZXN0YW5ndWxhclVybDtcbiAgZ2V0UmVxdWVzdGVkVXJsO1xuICBwdXRFbGVtZW50O1xuICBhZGRSZXN0YW5ndWxhck1ldGhvZDtcbiAgZ2V0UGFyZW50TGlzdDtcbiAgY2xvbmU7XG4gIGlkcztcbiAgaHR0cENvbmZpZztcbiAgcmVxUGFyYW1zO1xuICBvbmU7XG4gIGFsbDtcbiAgc2V2ZXJhbDtcbiAgb25lVXJsO1xuICBhbGxVcmw7XG4gIGN1c3RvbVBVVDtcbiAgY3VzdG9tUEFUQ0g7XG4gIGN1c3RvbVBPU1Q7XG4gIGN1c3RvbURFTEVURTtcbiAgY3VzdG9tR0VUO1xuICBjdXN0b21HRVRMSVNUO1xuICBjdXN0b21PcGVyYXRpb247XG4gIGRvUFVUO1xuICBkb1BBVENIO1xuICBkb1BPU1Q7XG4gIGRvREVMRVRFO1xuICBkb0dFVDtcbiAgZG9HRVRMSVNUO1xuICBmcm9tU2VydmVyO1xuICB3aXRoQ29uZmlnO1xuICB3aXRoSHR0cENvbmZpZztcbiAgc2luZ2xlT25lO1xuICBwbGFpbjtcbiAgc2F2ZTtcbiAgcmVzdGFuZ3VsYXJpemVkO1xuICByZXN0YW5ndWxhcml6ZUVsZW1lbnQ7XG4gIHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBAT3B0aW9uYWwoKSBASW5qZWN0KFJFU1RBTkdVTEFSKSBwdWJsaWMgY29uZmlnT2JqLFxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLFxuICAgIHByaXZhdGUgaHR0cDogUmVzdGFuZ3VsYXJIdHRwXG4gICkge1xuICAgIHRoaXMucHJvdmlkZXIgPSBuZXcgcHJvdmlkZXJDb25maWcoaHR0cCk7XG4gICAgbGV0IGVsZW1lbnQgPSB0aGlzLnByb3ZpZGVyLiRnZXQoKTtcbiAgICBhc3NpZ24odGhpcywgZWxlbWVudCk7XG5cbiAgICB0aGlzLnNldERlZmF1bHRDb25maWcoKTtcbiAgfVxuXG4gIHNldERlZmF1bHRDb25maWcoKSB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZ09iaiB8fCAhaXNGdW5jdGlvbih0aGlzLmNvbmZpZ09iai5mbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgYXJyREkgPSBtYXAodGhpcy5jb25maWdPYmouYXJyU2VydmljZXMsIChzZXJ2aWNlcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuaW5qZWN0b3IuZ2V0KHNlcnZpY2VzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29uZmlnT2JqLmZuKC4uLlt0aGlzLnByb3ZpZGVyLCAuLi5hcnJESV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb3ZpZGVyQ29uZmlnKCRodHRwKSB7XG4gIHZhciBnbG9iYWxDb25maWd1cmF0aW9uID0ge307XG5cbiAgUmVzdGFuZ3VsYXJDb25maWd1cmVyKHRoaXMsIGdsb2JhbENvbmZpZ3VyYXRpb24pO1xuXG4gIHRoaXMuJGdldCA9ICRnZXRcblxuICBmdW5jdGlvbiAkZ2V0KCkge1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VydmljZUZvckNvbmZpZ3VyYXRpb24oY29uZmlnKSB7XG4gICAgICB2YXIgc2VydmljZTogYW55ID0ge307XG5cbiAgICAgIHZhciB1cmxIYW5kbGVyID0gbmV3IGNvbmZpZy51cmxDcmVhdG9yRmFjdG9yeVtjb25maWcudXJsQ3JlYXRvcl0oKTtcbiAgICAgIHVybEhhbmRsZXIuc2V0Q29uZmlnKGNvbmZpZyk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlc3Rhbmd1bGFyaXplQmFzZShwYXJlbnQsIGVsZW0sIHJvdXRlLCByZXFQYXJhbXMsIGZyb21TZXJ2ZXIpIHtcbiAgICAgICAgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdID0gcm91dGU7XG4gICAgICAgIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldFJlc3Rhbmd1bGFyVXJsXSA9IGJpbmQodXJsSGFuZGxlci5mZXRjaFVybCwgdXJsSGFuZGxlciwgZWxlbSk7XG4gICAgICAgIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldFJlcXVlc3RlZFVybF0gPSBiaW5kKHVybEhhbmRsZXIuZmV0Y2hSZXF1ZXN0ZWRVcmwsIHVybEhhbmRsZXIsIGVsZW0pO1xuICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5hZGRSZXN0YW5ndWxhck1ldGhvZF0gPSBiaW5kKGFkZFJlc3Rhbmd1bGFyTWV0aG9kRnVuY3Rpb24sIGVsZW0pO1xuICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5jbG9uZV0gPSBiaW5kKGNvcHlSZXN0YW5ndWxhcml6ZWRFbGVtZW50LCBlbGVtKTtcbiAgICAgICAgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVxUGFyYW1zXSA9IGlzRW1wdHkocmVxUGFyYW1zKSA/IG51bGwgOiByZXFQYXJhbXM7XG4gICAgICAgIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLndpdGhIdHRwQ29uZmlnXSA9IGJpbmQod2l0aEh0dHBDb25maWcsIGVsZW0pO1xuICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wbGFpbl0gPSBiaW5kKHN0cmlwUmVzdGFuZ3VsYXIsIGVsZW0sIGVsZW0pO1xuXG4gICAgICAgIC8vIFRhZyBlbGVtZW50IGFzIHJlc3Rhbmd1bGFyaXplZFxuICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXN0YW5ndWxhcml6ZWRdID0gdHJ1ZTtcblxuICAgICAgICAvLyBSZXF1ZXN0TGVzcyBjb25uZWN0aW9uXG4gICAgICAgIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLm9uZV0gPSBiaW5kKG9uZSwgZWxlbSwgZWxlbSk7XG4gICAgICAgIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmFsbF0gPSBiaW5kKGFsbCwgZWxlbSwgZWxlbSk7XG4gICAgICAgIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnNldmVyYWxdID0gYmluZChzZXZlcmFsLCBlbGVtLCBlbGVtKTtcbiAgICAgICAgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMub25lVXJsXSA9IGJpbmQob25lVXJsLCBlbGVtLCBlbGVtKTtcbiAgICAgICAgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuYWxsVXJsXSA9IGJpbmQoYWxsVXJsLCBlbGVtLCBlbGVtKTtcblxuICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5mcm9tU2VydmVyXSA9ICEhZnJvbVNlcnZlcjtcblxuICAgICAgICBpZiAocGFyZW50ICYmIGNvbmZpZy5zaG91bGRTYXZlUGFyZW50KHJvdXRlKSkge1xuICAgICAgICAgIHZhciBwYXJlbnRJZCA9IGNvbmZpZy5nZXRJZEZyb21FbGVtKHBhcmVudCk7XG4gICAgICAgICAgdmFyIHBhcmVudFVybCA9IGNvbmZpZy5nZXRVcmxGcm9tRWxlbShwYXJlbnQpO1xuXG4gICAgICAgICAgdmFyIHJlc3Rhbmd1bGFyRmllbGRzRm9yUGFyZW50ID0gdW5pb24oXG4gICAgICAgICAgICB2YWx1ZXMocGljayhjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMsIFsncm91dGUnLCAnc2luZ2xlT25lJywgJ3BhcmVudFJlc291cmNlJ10pKSxcbiAgICAgICAgICAgIGNvbmZpZy5leHRyYUZpZWxkc1xuICAgICAgICAgICk7XG4gICAgICAgICAgdmFyIHBhcmVudFJlc291cmNlID0gcGljayhwYXJlbnQsIHJlc3Rhbmd1bGFyRmllbGRzRm9yUGFyZW50KTtcblxuICAgICAgICAgIGlmIChjb25maWcuaXNWYWxpZElkKHBhcmVudElkKSkge1xuICAgICAgICAgICAgY29uZmlnLnNldElkVG9FbGVtKHBhcmVudFJlc291cmNlLCBwYXJlbnRJZCwgcm91dGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29uZmlnLmlzVmFsaWRJZChwYXJlbnRVcmwpKSB7XG4gICAgICAgICAgICBjb25maWcuc2V0VXJsVG9FbGVtKHBhcmVudFJlc291cmNlLCBwYXJlbnRVcmwsIHJvdXRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXJlbnRSZXNvdXJjZV0gPSBwYXJlbnRSZXNvdXJjZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXJlbnRSZXNvdXJjZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbmUocGFyZW50LCByb3V0ZSwgaWQsIHNpbmdsZU9uZSkge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIGlmIChpc051bWJlcihyb3V0ZSkgfHwgaXNOdW1iZXIocGFyZW50KSkge1xuICAgICAgICAgIGVycm9yID0gJ1lvdVxcJ3JlIGNyZWF0aW5nIGEgUmVzdGFuZ3VsYXIgZW50aXR5IHdpdGggdGhlIG51bWJlciAnO1xuICAgICAgICAgIGVycm9yICs9ICdpbnN0ZWFkIG9mIHRoZSByb3V0ZSBvciB0aGUgcGFyZW50LiBGb3IgZXhhbXBsZSwgeW91IGNhblxcJ3QgY2FsbCAub25lKDEyKS4nO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHJvdXRlKSkge1xuICAgICAgICAgIGVycm9yID0gJ1lvdVxcJ3JlIGNyZWF0aW5nIGEgUmVzdGFuZ3VsYXIgZW50aXR5IGVpdGhlciB3aXRob3V0IHRoZSBwYXRoLiAnO1xuICAgICAgICAgIGVycm9yICs9ICdGb3IgZXhhbXBsZSB5b3UgY2FuXFwndCBjYWxsIC5vbmUoKS4gUGxlYXNlIGNoZWNrIGlmIHlvdXIgYXJndW1lbnRzIGFyZSB2YWxpZC4nO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW0gPSB7fTtcbiAgICAgICAgY29uZmlnLnNldElkVG9FbGVtKGVsZW0sIGlkLCByb3V0ZSk7XG4gICAgICAgIGNvbmZpZy5zZXRGaWVsZFRvRWxlbShjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2luZ2xlT25lLCBlbGVtLCBzaW5nbGVPbmUpO1xuICAgICAgICByZXR1cm4gcmVzdGFuZ3VsYXJpemVFbGVtKHBhcmVudCwgZWxlbSwgcm91dGUsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYWxsKHBhcmVudCwgcm91dGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihwYXJlbnQsIFtdLCByb3V0ZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXZlcmFsKHBhcmVudCwgcm91dGUgLyosIGlkcyAqLykge1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IFtdO1xuICAgICAgICBjb2xsZWN0aW9uW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5pZHNdID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgIHJldHVybiByZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb24ocGFyZW50LCBjb2xsZWN0aW9uLCByb3V0ZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbmVVcmwocGFyZW50LCByb3V0ZSwgdXJsKSB7XG4gICAgICAgIGlmICghcm91dGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdXRlIGlzIG1hbmRhdG9yeSB3aGVuIGNyZWF0aW5nIG5ldyBSZXN0YW5ndWxhciBvYmplY3RzLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtID0ge307XG4gICAgICAgIGNvbmZpZy5zZXRVcmxUb0VsZW0oZWxlbSwgdXJsLCByb3V0ZSk7XG4gICAgICAgIHJldHVybiByZXN0YW5ndWxhcml6ZUVsZW0ocGFyZW50LCBlbGVtLCByb3V0ZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbGxVcmwocGFyZW50LCByb3V0ZSwgdXJsKSB7XG4gICAgICAgIGlmICghcm91dGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdXRlIGlzIG1hbmRhdG9yeSB3aGVuIGNyZWF0aW5nIG5ldyBSZXN0YW5ndWxhciBvYmplY3RzLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtID0ge307XG4gICAgICAgIGNvbmZpZy5zZXRVcmxUb0VsZW0oZWxlbSwgdXJsLCByb3V0ZSk7XG4gICAgICAgIHJldHVybiByZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb24ocGFyZW50LCBlbGVtLCByb3V0ZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBQcm9taXNlc1xuICAgICAgZnVuY3Rpb24gcmVzdGFuZ3VsYXJpemVSZXNwb25zZShzdWJqZWN0LCBpc0NvbGxlY3Rpb24sIHZhbHVlVG9GaWxsKSB7XG4gICAgICAgIHJldHVybiBzdWJqZWN0LnBpcGUoZmlsdGVyKHJlcyA9PiAhIXJlcykpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZShzdWJqZWN0LCByZXNwb25zZSwgZGF0YSwgZmlsbGVkVmFsdWUpIHtcbiAgICAgICAgZXh0ZW5kKGZpbGxlZFZhbHVlLCBkYXRhKTtcblxuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBmdWxsIHJlc3BvbnNlIGludGVyY2VwdG9yLlxuICAgICAgICBpZiAoY29uZmlnLmZ1bGxSZXNwb25zZSkge1xuICAgICAgICAgIHN1YmplY3QubmV4dChleHRlbmQocmVzcG9uc2UsIHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3ViamVjdC5uZXh0KGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBFbGVtZW50c1xuICAgICAgZnVuY3Rpb24gc3RyaXBSZXN0YW5ndWxhcihlbGVtKSB7XG4gICAgICAgIGlmIChpc0FycmF5KGVsZW0pKSB7XG4gICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgZWFjaChlbGVtLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2goY29uZmlnLmlzUmVzdGFuZ3VsYXJpemVkKHZhbHVlKSA/IHN0cmlwUmVzdGFuZ3VsYXIodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gb21pdChlbGVtLCB2YWx1ZXMob21pdChjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMsICdpZCcpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYWRkQ3VzdG9tT3BlcmF0aW9uKGVsZW0pIHtcbiAgICAgICAgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY3VzdG9tT3BlcmF0aW9uXSA9IGJpbmQoY3VzdG9tRnVuY3Rpb24sIGVsZW0pO1xuICAgICAgICB2YXIgcmVxdWVzdE1ldGhvZHMgPSB7Z2V0OiBjdXN0b21GdW5jdGlvbiwgZGVsZXRlOiBjdXN0b21GdW5jdGlvbn07XG4gICAgICAgIGVhY2goWydwdXQnLCAncGF0Y2gnLCAncG9zdCddLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHJlcXVlc3RNZXRob2RzW25hbWVdID0gZnVuY3Rpb24gKG9wZXJhdGlvbiwgZWxlbSwgcGF0aCwgcGFyYW1zLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gYmluZChjdXN0b21GdW5jdGlvbiwgdGhpcykob3BlcmF0aW9uLCBwYXRoLCBwYXJhbXMsIGhlYWRlcnMsIGVsZW0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBlYWNoKHJlcXVlc3RNZXRob2RzLCBmdW5jdGlvbiAocmVxdWVzdEZ1bmMsIG5hbWUpIHtcbiAgICAgICAgICB2YXIgY2FsbE9wZXJhdGlvbiA9IG5hbWUgPT09ICdkZWxldGUnID8gJ3JlbW92ZScgOiBuYW1lO1xuICAgICAgICAgIGVhY2goWydkbycsICdjdXN0b20nXSwgZnVuY3Rpb24gKGFsaWFzKSB7XG4gICAgICAgICAgICBlbGVtW2FsaWFzICsgbmFtZS50b1VwcGVyQ2FzZSgpXSA9IGJpbmQocmVxdWVzdEZ1bmMsIGVsZW0sIGNhbGxPcGVyYXRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY3VzdG9tR0VUTElTVF0gPSBiaW5kKGZldGNoRnVuY3Rpb24sIGVsZW0pO1xuICAgICAgICBlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5kb0dFVExJU1RdID0gZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY3VzdG9tR0VUTElTVF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNvcHlSZXN0YW5ndWxhcml6ZWRFbGVtZW50KGZyb21FbGVtZW50LCB0b0VsZW1lbnQgPSB7fSkge1xuICAgICAgICB2YXIgY29waWVkRWxlbWVudCA9IGFzc2lnbih0b0VsZW1lbnQsIGZyb21FbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHJlc3Rhbmd1bGFyaXplRWxlbShjb3BpZWRFbGVtZW50W2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXJlbnRSZXNvdXJjZV0sXG4gICAgICAgICAgY29waWVkRWxlbWVudCwgY29waWVkRWxlbWVudFtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVzdGFuZ3VsYXJpemVFbGVtKHBhcmVudCwgZWxlbWVudCwgcm91dGUsIGZyb21TZXJ2ZXI/LCBjb2xsZWN0aW9uPywgcmVxUGFyYW1zPykge1xuICAgICAgICB2YXIgZWxlbSA9IGNvbmZpZy5vbkJlZm9yZUVsZW1SZXN0YW5ndWxhcml6ZWQoZWxlbWVudCwgZmFsc2UsIHJvdXRlKTtcblxuICAgICAgICB2YXIgbG9jYWxFbGVtID0gcmVzdGFuZ3VsYXJpemVCYXNlKHBhcmVudCwgZWxlbSwgcm91dGUsIHJlcVBhcmFtcywgZnJvbVNlcnZlcik7XG5cbiAgICAgICAgaWYgKGNvbmZpZy51c2VDYW5ub25pY2FsSWQpIHtcbiAgICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmNhbm5vbmljYWxJZF0gPSBjb25maWcuZ2V0SWRGcm9tRWxlbShsb2NhbEVsZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldFBhcmVudExpc3RdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSA9IGZhbHNlO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldF0gPSBiaW5kKGdldEZ1bmN0aW9uLCBsb2NhbEVsZW0pO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldExpc3RdID0gYmluZChmZXRjaEZ1bmN0aW9uLCBsb2NhbEVsZW0pO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnB1dF0gPSBiaW5kKHB1dEZ1bmN0aW9uLCBsb2NhbEVsZW0pO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBvc3RdID0gYmluZChwb3N0RnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVtb3ZlXSA9IGJpbmQoZGVsZXRlRnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaGVhZF0gPSBiaW5kKGhlYWRGdW5jdGlvbiwgbG9jYWxFbGVtKTtcbiAgICAgICAgbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy50cmFjZV0gPSBiaW5kKHRyYWNlRnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMub3B0aW9uc10gPSBiaW5kKG9wdGlvbnNGdW5jdGlvbiwgbG9jYWxFbGVtKTtcbiAgICAgICAgbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXRjaF0gPSBiaW5kKHBhdGNoRnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2F2ZV0gPSBiaW5kKHNhdmUsIGxvY2FsRWxlbSk7XG5cbiAgICAgICAgYWRkQ3VzdG9tT3BlcmF0aW9uKGxvY2FsRWxlbSk7XG4gICAgICAgIHJldHVybiBjb25maWcudHJhbnNmb3JtRWxlbShsb2NhbEVsZW0sIGZhbHNlLCByb3V0ZSwgc2VydmljZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihwYXJlbnQsIGVsZW1lbnQsIHJvdXRlLCBmcm9tU2VydmVyPywgcmVxUGFyYW1zPykge1xuICAgICAgICB2YXIgZWxlbSA9IGNvbmZpZy5vbkJlZm9yZUVsZW1SZXN0YW5ndWxhcml6ZWQoZWxlbWVudCwgdHJ1ZSwgcm91dGUpO1xuXG4gICAgICAgIHZhciBsb2NhbEVsZW0gPSByZXN0YW5ndWxhcml6ZUJhc2UocGFyZW50LCBlbGVtLCByb3V0ZSwgcmVxUGFyYW1zLCBmcm9tU2VydmVyKTtcbiAgICAgICAgbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXN0YW5ndWxhckNvbGxlY3Rpb25dID0gdHJ1ZTtcbiAgICAgICAgbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wb3N0XSA9IGJpbmQocG9zdEZ1bmN0aW9uLCBsb2NhbEVsZW0sIG51bGwpO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlbW92ZV0gPSBiaW5kKGRlbGV0ZUZ1bmN0aW9uLCBsb2NhbEVsZW0pO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmhlYWRdID0gYmluZChoZWFkRnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMudHJhY2VdID0gYmluZCh0cmFjZUZ1bmN0aW9uLCBsb2NhbEVsZW0pO1xuICAgICAgICBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnB1dEVsZW1lbnRdID0gYmluZChwdXRFbGVtZW50RnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMub3B0aW9uc10gPSBiaW5kKG9wdGlvbnNGdW5jdGlvbiwgbG9jYWxFbGVtKTtcbiAgICAgICAgbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXRjaF0gPSBiaW5kKHBhdGNoRnVuY3Rpb24sIGxvY2FsRWxlbSk7XG4gICAgICAgIGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZ2V0XSA9IGJpbmQoZ2V0QnlJZCwgbG9jYWxFbGVtKTtcbiAgICAgICAgbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5nZXRMaXN0XSA9IGJpbmQoZmV0Y2hGdW5jdGlvbiwgbG9jYWxFbGVtLCBudWxsKTtcblxuICAgICAgICBhZGRDdXN0b21PcGVyYXRpb24obG9jYWxFbGVtKTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy50cmFuc2Zvcm1FbGVtKGxvY2FsRWxlbSwgdHJ1ZSwgcm91dGUsIHNlcnZpY2UsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb25BbmRFbGVtZW50cyhwYXJlbnQsIGVsZW1lbnQsIHJvdXRlKSB7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uID0gcmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKHBhcmVudCwgZWxlbWVudCwgcm91dGUsIGZhbHNlKTtcbiAgICAgICAgZWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICByZXN0YW5ndWxhcml6ZUVsZW0ocGFyZW50LCBlbGVtLCByb3V0ZSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRCeUlkKGlkLCByZXFQYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tR0VUKGlkLnRvU3RyaW5nKCksIHJlcVBhcmFtcywgaGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHB1dEVsZW1lbnRGdW5jdGlvbihpZHgsIHBhcmFtcywgaGVhZGVycykge1xuICAgICAgICB2YXIgX190aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGVsZW1Ub1B1dCA9IHRoaXNbaWR4XTtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB2YXIgZmlsbGVkQXJyYXkgPSBbXTtcbiAgICAgICAgZmlsbGVkQXJyYXkgPSBjb25maWcudHJhbnNmb3JtRWxlbShmaWxsZWRBcnJheSwgdHJ1ZSwgZWxlbVRvUHV0W2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sIHNlcnZpY2UpO1xuXG4gICAgICAgIGVsZW1Ub1B1dC5wdXQocGFyYW1zLCBoZWFkZXJzKVxuICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZXJ2ZXJFbGVtKSB7XG4gICAgICAgICAgdmFyIG5ld0FycmF5ID0gY29weVJlc3Rhbmd1bGFyaXplZEVsZW1lbnQoX190aGlzKTtcbiAgICAgICAgICBuZXdBcnJheVtpZHhdID0gc2VydmVyRWxlbTtcbiAgICAgICAgICBmaWxsZWRBcnJheSA9IG5ld0FycmF5O1xuICAgICAgICAgIHN1YmplY3QubmV4dChuZXdBcnJheSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHN1YmplY3QuZXJyb3IocmVzcG9uc2UpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdGFuZ3VsYXJpemVSZXNwb25zZShzdWJqZWN0LCB0cnVlLCBmaWxsZWRBcnJheSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzRGF0YSwgb3BlcmF0aW9uLCByb3V0ZSwgZmV0Y2hVcmwsIHJlc3BvbnNlLCBzdWJqZWN0KSB7XG4gICAgICAgIHZhciBkYXRhID0gY29uZmlnLnJlc3BvbnNlRXh0cmFjdG9yKHJlc0RhdGEsIG9wZXJhdGlvbiwgcm91dGUsIGZldGNoVXJsLCByZXNwb25zZSwgc3ViamVjdCk7XG4gICAgICAgIHZhciBldGFnID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0VUYWcnKTtcbiAgICAgICAgaWYgKGRhdGEgJiYgZXRhZykge1xuICAgICAgICAgIGRhdGFbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmV0YWddID0gZXRhZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmV0Y2hGdW5jdGlvbih3aGF0LCByZXFQYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgdmFyIF9fdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdmFyIG9wZXJhdGlvbiA9ICdnZXRMaXN0JztcbiAgICAgICAgdmFyIHVybCA9IHVybEhhbmRsZXIuZmV0Y2hVcmwodGhpcywgd2hhdCk7XG4gICAgICAgIHZhciB3aGF0RmV0Y2hlZCA9IHdoYXQgfHwgX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV07XG5cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBjb25maWcuZnVsbFJlcXVlc3RJbnRlcmNlcHRvcihudWxsLCBvcGVyYXRpb24sXG4gICAgICAgICAgd2hhdEZldGNoZWQsIHVybCwgaGVhZGVycyB8fCB7fSwgcmVxUGFyYW1zIHx8IHt9LCB0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5odHRwQ29uZmlnXSB8fCB7fSk7XG5cbiAgICAgICAgdmFyIGZpbGxlZEFycmF5ID0gW107XG4gICAgICAgIGZpbGxlZEFycmF5ID0gY29uZmlnLnRyYW5zZm9ybUVsZW0oZmlsbGVkQXJyYXksIHRydWUsIHdoYXRGZXRjaGVkLCBzZXJ2aWNlKTtcblxuICAgICAgICB2YXIgbWV0aG9kID0gJ2dldExpc3QnO1xuXG4gICAgICAgIGlmIChjb25maWcuanNvbnApIHtcbiAgICAgICAgICBtZXRob2QgPSAnanNvbnAnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9rQ2FsbGJhY2sgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgcmVzRGF0YSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICAgICAgdmFyIGZ1bGxQYXJhbXMgPSByZXNwb25zZS5jb25maWcucGFyYW1zO1xuICAgICAgICAgIHZhciBkYXRhID0gcGFyc2VSZXNwb25zZShyZXNEYXRhLCBvcGVyYXRpb24sIHdoYXRGZXRjaGVkLCB1cmwsIHJlc3BvbnNlLCBzdWJqZWN0KTtcblxuICAgICAgICAgIC8vIHN1cHBvcnQgZW1wdHkgcmVzcG9uc2UgZm9yIGdldExpc3QoKSBjYWxscyAoc29tZSBBUElzIHJlc3BvbmQgd2l0aCAyMDQgYW5kIGVtcHR5IGJvZHkpXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGRhdGEpIHx8ICcnID09PSBkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNwb25zZSBmb3IgZ2V0TGlzdCBTSE9VTEQgYmUgYW4gYXJyYXkgYW5kIG5vdCBhbiBvYmplY3Qgb3Igc29tZXRoaW5nIGVsc2UnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHJ1ZSA9PT0gY29uZmlnLnBsYWluQnlEZWZhdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVByb21pc2Uoc3ViamVjdCwgcmVzcG9uc2UsIGRhdGEsIGZpbGxlZEFycmF5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IG1hcChkYXRhLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgaWYgKCFfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3Rhbmd1bGFyaXplRWxlbShfX3RoaXMsIGVsZW0sIHdoYXQsIHRydWUsIGRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3Rhbmd1bGFyaXplRWxlbShfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXSxcbiAgICAgICAgICAgICAgICBlbGVtLCBfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSwgdHJ1ZSwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBwcm9jZXNzZWREYXRhID0gZXh0ZW5kKGRhdGEsIHByb2Nlc3NlZERhdGEpO1xuXG4gICAgICAgICAgaWYgKCFfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0pIHtcbiAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKFxuICAgICAgICAgICAgICBzdWJqZWN0LFxuICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgcmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKFxuICAgICAgICAgICAgICAgIF9fdGhpcyxcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWREYXRhLFxuICAgICAgICAgICAgICAgIHdoYXQsXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICBmdWxsUGFyYW1zXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGZpbGxlZEFycmF5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlUHJvbWlzZShcbiAgICAgICAgICAgICAgc3ViamVjdCxcbiAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICAgIHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihcbiAgICAgICAgICAgICAgICBfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWREYXRhLFxuICAgICAgICAgICAgICAgIF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdLFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgZnVsbFBhcmFtc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBmaWxsZWRBcnJheVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdXJsSGFuZGxlci5yZXNvdXJjZSh0aGlzLCAkaHR0cCwgcmVxdWVzdC5odHRwQ29uZmlnLCByZXF1ZXN0LmhlYWRlcnMsIHJlcXVlc3QucGFyYW1zLCB3aGF0LFxuICAgICAgICAgIHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmV0YWddLCBvcGVyYXRpb24pW21ldGhvZF0oKVxuICAgICAgICAuc3Vic2NyaWJlKG9rQ2FsbGJhY2ssIGZ1bmN0aW9uIGVycm9yKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMzA0ICYmIF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSkge1xuICAgICAgICAgICAgcmVzb2x2ZVByb21pc2Uoc3ViamVjdCwgcmVzcG9uc2UsIF9fdGhpcywgZmlsbGVkQXJyYXkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlcnkoY29uZmlnLmVycm9ySW50ZXJjZXB0b3JzLCBmdW5jdGlvbiAoY2I6IGFueSkge1xuXG4gICAgICAgICAgICAgIHJldHVybiBjYihyZXNwb25zZSwgc3ViamVjdCwgb2tDYWxsYmFjaykgIT09IGZhbHNlO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJlZCBpZiBubyBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgICBzdWJqZWN0LmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN0YW5ndWxhcml6ZVJlc3BvbnNlKHN1YmplY3QsIHRydWUsIGZpbGxlZEFycmF5KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gd2l0aEh0dHBDb25maWcoaHR0cENvbmZpZykge1xuICAgICAgICB0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5odHRwQ29uZmlnXSA9IGh0dHBDb25maWc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzYXZlKHBhcmFtcywgaGVhZGVycykge1xuICAgICAgICBpZiAodGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZnJvbVNlcnZlcl0pIHtcbiAgICAgICAgICByZXR1cm4gdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucHV0XShwYXJhbXMsIGhlYWRlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBiaW5kKGVsZW1GdW5jdGlvbiwgdGhpcykoJ3Bvc3QnLCB1bmRlZmluZWQsIHBhcmFtcywgdW5kZWZpbmVkLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBlbGVtRnVuY3Rpb24ob3BlcmF0aW9uLCB3aGF0LCBwYXJhbXMsIG9iaiwgaGVhZGVycykge1xuICAgICAgICB2YXIgX190aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpO1xuICAgICAgICB2YXIgcmVzUGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgICB2YXIgcm91dGUgPSB3aGF0IHx8IHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXTtcbiAgICAgICAgdmFyIGZldGNoVXJsID0gdXJsSGFuZGxlci5mZXRjaFVybCh0aGlzLCB3aGF0KTtcblxuICAgICAgICB2YXIgY2FsbE9iaiA9IG9iaiB8fCB0aGlzO1xuICAgICAgICAvLyBmYWxsYmFjayB0byBldGFnIG9uIHJlc3Rhbmd1bGFyIG9iamVjdCAoc2luY2UgZm9yIGN1c3RvbSBtZXRob2RzIHdlIHByb2JhYmx5IGRvbid0IGV4cGxpY2l0bHkgc3BlY2lmeSB0aGUgZXRhZyBmaWVsZClcbiAgICAgICAgdmFyIGV0YWcgPSBjYWxsT2JqW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5ldGFnXSB8fCAob3BlcmF0aW9uICE9PSAncG9zdCcgPyB0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5ldGFnXSA6IG51bGwpO1xuXG4gICAgICAgIGlmIChpc09iamVjdChjYWxsT2JqKSAmJiBjb25maWcuaXNSZXN0YW5ndWxhcml6ZWQoY2FsbE9iaikpIHtcbiAgICAgICAgICBjYWxsT2JqID0gc3RyaXBSZXN0YW5ndWxhcihjYWxsT2JqKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdCA9IGNvbmZpZy5mdWxsUmVxdWVzdEludGVyY2VwdG9yKGNhbGxPYmosIG9wZXJhdGlvbiwgcm91dGUsIGZldGNoVXJsLFxuICAgICAgICAgIGhlYWRlcnMgfHwge30sIHJlc1BhcmFtcyB8fCB7fSwgdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaHR0cENvbmZpZ10gfHwge30pO1xuXG4gICAgICAgIHZhciBmaWxsZWRPYmplY3QgPSB7fTtcbiAgICAgICAgZmlsbGVkT2JqZWN0ID0gY29uZmlnLnRyYW5zZm9ybUVsZW0oZmlsbGVkT2JqZWN0LCBmYWxzZSwgcm91dGUsIHNlcnZpY2UpO1xuXG4gICAgICAgIHZhciBva0NhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIHJlc0RhdGEgPSBnZXQocmVzcG9uc2UsICdib2R5Jyk7XG4gICAgICAgICAgdmFyIGZ1bGxQYXJhbXMgPSBnZXQocmVzcG9uc2UsICdjb25maWcucGFyYW1zJyk7XG5cbiAgICAgICAgICB2YXIgZWxlbSA9IHBhcnNlUmVzcG9uc2UocmVzRGF0YSwgb3BlcmF0aW9uLCByb3V0ZSwgZmV0Y2hVcmwsIHJlc3BvbnNlLCBzdWJqZWN0KTtcblxuICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgICAgIGlmICh0cnVlID09PSBjb25maWcucGxhaW5CeURlZmF1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVQcm9taXNlKHN1YmplY3QsIHJlc3BvbnNlLCBlbGVtLCBmaWxsZWRPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uID09PSAncG9zdCcgJiYgIV9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSkge1xuICAgICAgICAgICAgICBkYXRhID0gcmVzdGFuZ3VsYXJpemVFbGVtKFxuICAgICAgICAgICAgICAgIF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdLFxuICAgICAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICAgICAgcm91dGUsXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGZ1bGxQYXJhbXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2Uoc3ViamVjdCwgcmVzcG9uc2UsIGRhdGEsIGZpbGxlZE9iamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhID0gcmVzdGFuZ3VsYXJpemVFbGVtKFxuICAgICAgICAgICAgICAgIF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdLFxuICAgICAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICAgICAgX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGZ1bGxQYXJhbXNcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBkYXRhW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zaW5nbGVPbmVdID0gX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zaW5nbGVPbmVdO1xuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShzdWJqZWN0LCByZXNwb25zZSwgZGF0YSwgZmlsbGVkT2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlUHJvbWlzZShzdWJqZWN0LCByZXNwb25zZSwgdW5kZWZpbmVkLCBmaWxsZWRPYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDMwNCAmJiBjb25maWcuaXNTYWZlKG9wZXJhdGlvbikpIHtcbiAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHN1YmplY3QsIHJlc3BvbnNlLCBfX3RoaXMsIGZpbGxlZE9iamVjdCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVyeShjb25maWcuZXJyb3JJbnRlcmNlcHRvcnMsIGZ1bmN0aW9uIChjYjogYW55KSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYihyZXNwb25zZSwgc3ViamVjdCwgb2tDYWxsYmFjaykgIT09IGZhbHNlO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJlZCBpZiBubyBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgICBzdWJqZWN0LmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIE92ZXJyaWRpbmcgSFRUUCBNZXRob2RcbiAgICAgICAgdmFyIGNhbGxPcGVyYXRpb24gPSBvcGVyYXRpb247XG4gICAgICAgIHZhciBjYWxsSGVhZGVycyA9IGV4dGVuZCh7fSwgcmVxdWVzdC5oZWFkZXJzKTtcbiAgICAgICAgdmFyIGlzT3ZlcnJpZGVPcGVyYXRpb24gPSBjb25maWcuaXNPdmVycmlkZW5NZXRob2Qob3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKGlzT3ZlcnJpZGVPcGVyYXRpb24pIHtcbiAgICAgICAgICBjYWxsT3BlcmF0aW9uID0gJ3Bvc3QnO1xuICAgICAgICAgIGNhbGxIZWFkZXJzID0gZXh0ZW5kKGNhbGxIZWFkZXJzLCB7J1gtSFRUUC1NZXRob2QtT3ZlcnJpZGUnOiBvcGVyYXRpb24gPT09ICdyZW1vdmUnID8gJ0RFTEVURScgOiBvcGVyYXRpb24udG9VcHBlckNhc2UoKX0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5qc29ucCAmJiBjYWxsT3BlcmF0aW9uID09PSAnZ2V0Jykge1xuICAgICAgICAgIGNhbGxPcGVyYXRpb24gPSAnanNvbnAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5pc1NhZmUob3BlcmF0aW9uKSkge1xuICAgICAgICAgIGlmIChpc092ZXJyaWRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICB1cmxIYW5kbGVyLnJlc291cmNlKHRoaXMsICRodHRwLCByZXF1ZXN0Lmh0dHBDb25maWcsIGNhbGxIZWFkZXJzLCByZXF1ZXN0LnBhcmFtcyxcbiAgICAgICAgICAgICAgd2hhdCwgZXRhZywgY2FsbE9wZXJhdGlvbilbY2FsbE9wZXJhdGlvbl0oe30pLnN1YnNjcmliZShva0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsSGFuZGxlci5yZXNvdXJjZSh0aGlzLCAkaHR0cCwgcmVxdWVzdC5odHRwQ29uZmlnLCBjYWxsSGVhZGVycywgcmVxdWVzdC5wYXJhbXMsXG4gICAgICAgICAgICAgIHdoYXQsIGV0YWcsIGNhbGxPcGVyYXRpb24pW2NhbGxPcGVyYXRpb25dKCkuc3Vic2NyaWJlKG9rQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmxIYW5kbGVyLnJlc291cmNlKHRoaXMsICRodHRwLCByZXF1ZXN0Lmh0dHBDb25maWcsIGNhbGxIZWFkZXJzLCByZXF1ZXN0LnBhcmFtcyxcbiAgICAgICAgICAgIHdoYXQsIGV0YWcsIGNhbGxPcGVyYXRpb24pW2NhbGxPcGVyYXRpb25dKHJlcXVlc3QuZWxlbWVudCkuc3Vic2NyaWJlKG9rQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3Rhbmd1bGFyaXplUmVzcG9uc2Uoc3ViamVjdCwgZmFsc2UsIGZpbGxlZE9iamVjdCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldEZ1bmN0aW9uKHBhcmFtcywgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gYmluZChlbGVtRnVuY3Rpb24sIHRoaXMpKCdnZXQnLCB1bmRlZmluZWQsIHBhcmFtcywgdW5kZWZpbmVkLCBoZWFkZXJzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVsZXRlRnVuY3Rpb24ocGFyYW1zLCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBiaW5kKGVsZW1GdW5jdGlvbiwgdGhpcykoJ3JlbW92ZScsIHVuZGVmaW5lZCwgcGFyYW1zLCB1bmRlZmluZWQsIGhlYWRlcnMpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwdXRGdW5jdGlvbihwYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGJpbmQoZWxlbUZ1bmN0aW9uLCB0aGlzKSgncHV0JywgdW5kZWZpbmVkLCBwYXJhbXMsIHVuZGVmaW5lZCwgaGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBvc3RGdW5jdGlvbih3aGF0LCBlbGVtLCBwYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGJpbmQoZWxlbUZ1bmN0aW9uLCB0aGlzKSgncG9zdCcsIHdoYXQsIHBhcmFtcywgZWxlbSwgaGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhlYWRGdW5jdGlvbihwYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGJpbmQoZWxlbUZ1bmN0aW9uLCB0aGlzKSgnaGVhZCcsIHVuZGVmaW5lZCwgcGFyYW1zLCB1bmRlZmluZWQsIGhlYWRlcnMpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFjZUZ1bmN0aW9uKHBhcmFtcywgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gYmluZChlbGVtRnVuY3Rpb24sIHRoaXMpKCd0cmFjZScsIHVuZGVmaW5lZCwgcGFyYW1zLCB1bmRlZmluZWQsIGhlYWRlcnMpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvcHRpb25zRnVuY3Rpb24ocGFyYW1zLCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBiaW5kKGVsZW1GdW5jdGlvbiwgdGhpcykoJ29wdGlvbnMnLCB1bmRlZmluZWQsIHBhcmFtcywgdW5kZWZpbmVkLCBoZWFkZXJzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGF0Y2hGdW5jdGlvbihlbGVtLCBwYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGJpbmQoZWxlbUZ1bmN0aW9uLCB0aGlzKSgncGF0Y2gnLCB1bmRlZmluZWQsIHBhcmFtcywgZWxlbSwgaGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGN1c3RvbUZ1bmN0aW9uKG9wZXJhdGlvbiwgcGF0aCwgcGFyYW1zLCBoZWFkZXJzLCBlbGVtKSB7XG4gICAgICAgIHJldHVybiBiaW5kKGVsZW1GdW5jdGlvbiwgdGhpcykob3BlcmF0aW9uLCBwYXRoLCBwYXJhbXMsIGVsZW0sIGhlYWRlcnMpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhZGRSZXN0YW5ndWxhck1ldGhvZEZ1bmN0aW9uKG5hbWUsIG9wZXJhdGlvbiwgcGF0aCwgZGVmYXVsdFBhcmFtcywgZGVmYXVsdEhlYWRlcnMsIGRlZmF1bHRFbGVtKSB7XG4gICAgICAgIHZhciBiaW5kZWRGdW5jdGlvbjtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2dldExpc3QnKSB7XG4gICAgICAgICAgYmluZGVkRnVuY3Rpb24gPSBiaW5kKGZldGNoRnVuY3Rpb24sIHRoaXMsIHBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJpbmRlZEZ1bmN0aW9uID0gYmluZChjdXN0b21GdW5jdGlvbiwgdGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjcmVhdGVkRnVuY3Rpb24gPSBmdW5jdGlvbiAocGFyYW1zLCBoZWFkZXJzLCBlbGVtKSB7XG4gICAgICAgICAgdmFyIGNhbGxQYXJhbXMgPSBkZWZhdWx0cyh7XG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBlbGVtOiBlbGVtXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgcGFyYW1zOiBkZWZhdWx0UGFyYW1zLFxuICAgICAgICAgICAgaGVhZGVyczogZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgICAgICBlbGVtOiBkZWZhdWx0RWxlbVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBiaW5kZWRGdW5jdGlvbihjYWxsUGFyYW1zLnBhcmFtcywgY2FsbFBhcmFtcy5oZWFkZXJzLCBjYWxsUGFyYW1zLmVsZW0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjb25maWcuaXNTYWZlKG9wZXJhdGlvbikpIHtcbiAgICAgICAgICB0aGlzW25hbWVdID0gY3JlYXRlZEZ1bmN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbbmFtZV0gPSBmdW5jdGlvbiAoZWxlbSwgcGFyYW1zLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlZEZ1bmN0aW9uKHBhcmFtcywgaGVhZGVycywgZWxlbSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB3aXRoQ29uZmlndXJhdGlvbkZ1bmN0aW9uKGNvbmZpZ3VyZXIpIHtcbiAgICAgICAgdmFyIG5ld0NvbmZpZyA9IGNsb25lKG9taXQoY29uZmlnLCAnY29uZmlndXJhdGlvbicpKTtcbiAgICAgICAgUmVzdGFuZ3VsYXJDb25maWd1cmVyKG5ld0NvbmZpZywgbmV3Q29uZmlnKTtcbiAgICAgICAgY29uZmlndXJlcihuZXdDb25maWcpO1xuICAgICAgICByZXR1cm4gY3JlYXRlU2VydmljZUZvckNvbmZpZ3VyYXRpb24obmV3Q29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdG9TZXJ2aWNlKHJvdXRlLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIGtub3duQ29sbGVjdGlvbk1ldGhvZHMgPSB2YWx1ZXMoY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzKTtcbiAgICAgICAgdmFyIHNlcnY6IGFueSA9IHt9O1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IChwYXJlbnQgfHwgc2VydmljZSkuYWxsKHJvdXRlKTtcbiAgICAgICAgc2Vydi5vbmUgPSBiaW5kKG9uZSwgKHBhcmVudCB8fCBzZXJ2aWNlKSwgcGFyZW50LCByb3V0ZSk7XG4gICAgICAgIHNlcnYuYWxsID0gYmluZChjb2xsZWN0aW9uLmFsbCwgY29sbGVjdGlvbik7XG4gICAgICAgIHNlcnYucG9zdCA9IGJpbmQoY29sbGVjdGlvbi5wb3N0LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgc2Vydi5nZXRMaXN0ID0gYmluZChjb2xsZWN0aW9uLmdldExpc3QsIGNvbGxlY3Rpb24pO1xuICAgICAgICBzZXJ2LndpdGhIdHRwQ29uZmlnID0gYmluZChjb2xsZWN0aW9uLndpdGhIdHRwQ29uZmlnLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgc2Vydi5nZXQgPSBiaW5kKGNvbGxlY3Rpb24uZ2V0LCBjb2xsZWN0aW9uKTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBpZiAoY29sbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBpc0Z1bmN0aW9uKGNvbGxlY3Rpb25bcHJvcF0pICYmICFpbmNsdWRlcyhrbm93bkNvbGxlY3Rpb25NZXRob2RzLCBwcm9wKSkge1xuICAgICAgICAgICAgc2Vydltwcm9wXSA9IGJpbmQoY29sbGVjdGlvbltwcm9wXSwgY29sbGVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnY7XG4gICAgICB9XG5cbiAgICAgIFJlc3Rhbmd1bGFyQ29uZmlndXJlcihzZXJ2aWNlLCBjb25maWcpO1xuXG4gICAgICBzZXJ2aWNlLmNvcHkgPSBiaW5kKGNvcHlSZXN0YW5ndWxhcml6ZWRFbGVtZW50LCBzZXJ2aWNlKTtcblxuICAgICAgc2VydmljZS5zZXJ2aWNlID0gYmluZCh0b1NlcnZpY2UsIHNlcnZpY2UpO1xuXG4gICAgICBzZXJ2aWNlLndpdGhDb25maWcgPSBiaW5kKHdpdGhDb25maWd1cmF0aW9uRnVuY3Rpb24sIHNlcnZpY2UpO1xuXG4gICAgICBzZXJ2aWNlLm9uZSA9IGJpbmQob25lLCBzZXJ2aWNlLCBudWxsKTtcblxuICAgICAgc2VydmljZS5hbGwgPSBiaW5kKGFsbCwgc2VydmljZSwgbnVsbCk7XG5cbiAgICAgIHNlcnZpY2Uuc2V2ZXJhbCA9IGJpbmQoc2V2ZXJhbCwgc2VydmljZSwgbnVsbCk7XG5cbiAgICAgIHNlcnZpY2Uub25lVXJsID0gYmluZChvbmVVcmwsIHNlcnZpY2UsIG51bGwpO1xuXG4gICAgICBzZXJ2aWNlLmFsbFVybCA9IGJpbmQoYWxsVXJsLCBzZXJ2aWNlLCBudWxsKTtcblxuICAgICAgc2VydmljZS5zdHJpcFJlc3Rhbmd1bGFyID0gYmluZChzdHJpcFJlc3Rhbmd1bGFyLCBzZXJ2aWNlKTtcblxuICAgICAgc2VydmljZS5yZXN0YW5ndWxhcml6ZUVsZW1lbnQgPSBiaW5kKHJlc3Rhbmd1bGFyaXplRWxlbSwgc2VydmljZSk7XG5cbiAgICAgIHNlcnZpY2UucmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uID0gYmluZChyZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb25BbmRFbGVtZW50cywgc2VydmljZSk7XG5cbiAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVTZXJ2aWNlRm9yQ29uZmlndXJhdGlvbihnbG9iYWxDb25maWd1cmF0aW9uKTtcbiAgfTtcblxufVxuIiwiLyogdHNsaW50OmRpc2FibGU6bWVtYmVyLW9yZGVyaW5nIG5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IHtNb2R1bGVXaXRoUHJvdmlkZXJzLCBOZ01vZHVsZSwgT3B0aW9uYWwsIFNraXBTZWxmLCBJbmplY3Rpb25Ub2tlbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0h0dHBDbGllbnRNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7UkVTVEFOR1VMQVIsIFJlc3Rhbmd1bGFyRmFjdG9yeX0gZnJvbSAnLi9uZ3gtcmVzdGFuZ3VsYXIuY29uZmlnJztcbmltcG9ydCB7UmVzdGFuZ3VsYXJ9IGZyb20gJy4vbmd4LXJlc3Rhbmd1bGFyJztcbmltcG9ydCB7UmVzdGFuZ3VsYXJIdHRwfSBmcm9tICcuL25neC1yZXN0YW5ndWxhci1odHRwJztcblxuZXhwb3J0IGNvbnN0IENPTkZJR19PQkogPSBuZXcgSW5qZWN0aW9uVG9rZW48c3RyaW5nPignY29uZmlnT2JqJyk7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSxcbiAgcHJvdmlkZXJzOiBbUmVzdGFuZ3VsYXJIdHRwLCBSZXN0YW5ndWxhcl1cbn0pXG5leHBvcnQgY2xhc3MgUmVzdGFuZ3VsYXJNb2R1bGUge1xuXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudE1vZHVsZTogUmVzdGFuZ3VsYXJNb2R1bGUpIHtcbiAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdSZXN0YW5ndWxhck1vZHVsZSBpcyBhbHJlYWR5IGxvYWRlZC4gSW1wb3J0IGl0IGluIHRoZSBBcHBNb2R1bGUgb25seScpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBmb3JSb290KGNvbmZpZzE/LCBjb25maWcyPyk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogUmVzdGFuZ3VsYXJNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge3Byb3ZpZGU6IENPTkZJR19PQkosIHVzZVZhbHVlOiBbY29uZmlnMSxjb25maWcyXX0sXG4gICAgICAgIHtwcm92aWRlOiBSRVNUQU5HVUxBUiwgdXNlRmFjdG9yeTogUmVzdGFuZ3VsYXJGYWN0b3J5LCBkZXBzOiBbQ09ORklHX09CSl19LFxuICAgICAgXVxuICAgIH1cbiAgfVxuXG59XG4iXSwi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\n",null]}